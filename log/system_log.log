2023-08-27 00:02:32.910  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:02:32.927  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:02:32.927  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:02:32.929 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:02:32.942 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:02:32.945 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:02:32.947  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:02:32.948  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:02:32.948  INFO 12984 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:02:32.953 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:02:32.954 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:02:32.958 DEBUG 12984 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:13:24.745  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA0NTY1MywiZXhwIjoxNjkzMTY1NjUzfQ.B4lUJ3kD5mlmH4vZf_o1UtuUqn4kPSlT-HQNpRgECZRn3YNBs96eC6cZH_Y2QunTibZ4KkXLd8dlupO0W37KEQ
2023-08-27 00:13:24.748  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:13:24.749  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:13:24.751 DEBUG 12984 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:13:24.753 DEBUG 12984 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:13:24.755 DEBUG 12984 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:13:24.758 DEBUG 12984 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:13:24.760  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:13:24.760  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:13:24.760  INFO 12984 --- [http-nio-8080-exec-8] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:13:59.930  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA0NTY1MywiZXhwIjoxNjkzMTY1NjUzfQ.B4lUJ3kD5mlmH4vZf_o1UtuUqn4kPSlT-HQNpRgECZRn3YNBs96eC6cZH_Y2QunTibZ4KkXLd8dlupO0W37KEQ
2023-08-27 00:13:59.932  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:13:59.932  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:13:59.933 DEBUG 12984 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:13:59.935 DEBUG 12984 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:13:59.937 DEBUG 12984 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:13:59.939 DEBUG 12984 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:13:59.942  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:13:59.943  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:13:59.943  INFO 12984 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:15:14.686  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.controller.v1.AuthController       : authDto login=СHIEF_DISPATCHER
2023-08-27 00:15:14.687  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.controller.v1.AuthController       : authDto password=СHIEF_DISPATCHER
2023-08-27 00:15:14.687  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.controller.v1.AuthController       : before loginUser
2023-08-27 00:15:14.687  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:15:14.688 DEBUG 12984 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:15:14.690 DEBUG 12984 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:15:14.692 DEBUG 12984 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:15:14.695 DEBUG 12984 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:15:14.699  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:15:15.075  INFO 12984 --- [http-nio-8080-exec-10] k.k.a.controller.v1.AuthController       : Token: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:15:29.412  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:15:29.414  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:15:29.414  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:15:29.415 DEBUG 12984 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:15:29.417 DEBUG 12984 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:15:29.418 DEBUG 12984 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:15:29.422 DEBUG 12984 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:15:29.424  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:15:29.424  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:15:29.424  INFO 12984 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:15:57.937  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:15:57.939  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:15:57.940  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:15:57.940 DEBUG 12984 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:15:57.942 DEBUG 12984 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:15:57.943 DEBUG 12984 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:15:57.947 DEBUG 12984 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:15:57.949  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:15:57.949  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:15:57.949  INFO 12984 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:16:24.028  INFO 12984 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:16:24.031  INFO 12984 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:16:24.043  INFO 12984 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:16:34.313  INFO 13476 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 13476 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:16:34.318  INFO 13476 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:16:35.956  INFO 13476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:16:36.194  INFO 13476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 222 ms. Found 12 JPA repository interfaces.
2023-08-27 00:16:36.924  INFO 13476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:16:36.934  INFO 13476 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:16:36.934  INFO 13476 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:16:37.089  INFO 13476 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:16:37.089  INFO 13476 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2700 ms
2023-08-27 00:16:37.336  INFO 13476 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:16:37.336  INFO 13476 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:16:37.337  INFO 13476 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:16:37.354  INFO 13476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:16:37.521  INFO 13476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:16:37.547  INFO 13476 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:16:37.611  INFO 13476 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.038s)
2023-08-27 00:16:37.625  INFO 13476 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:16:37.626  WARN 13476 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:16:37.628  INFO 13476 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:16:37.851  INFO 13476 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:16:37.956  INFO 13476 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:16:38.419  INFO 13476 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:16:39.355  INFO 13476 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:16:39.371  INFO 13476 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:16:40.905 DEBUG 13476 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:16:41.684  WARN 13476 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:16:42.629  INFO 13476 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1146e32e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@511ad0dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e085259, org.springframework.security.web.header.HeaderWriterFilter@2ba4b32b, org.springframework.web.filter.CorsFilter@634d56eb, org.springframework.security.web.authentication.logout.LogoutFilter@11267e87, kg.kuban.airport.security.JwtAuthenticationFilter@2de07c57, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7af2ee23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e096ac0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d7c00de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cd7128, org.springframework.security.web.session.SessionManagementFilter@7dc963be, org.springframework.security.web.access.ExceptionTranslationFilter@3b3b2290, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2284058a]
2023-08-27 00:16:43.003  INFO 13476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:16:43.019  INFO 13476 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 9.435 seconds (JVM running for 10.958)
2023-08-27 00:16:51.350  INFO 13476 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:16:51.351  INFO 13476 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:16:51.353  INFO 13476 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 00:16:51.379  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:16:51.465  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:16:51.465  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:16:51.583 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:16:51.610 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:16:51.623 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:16:51.632 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:16:51.638  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:16:51.638  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:16:51.640  INFO 13476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:16:51.701 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:16:51.704 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:16:51.710 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:16:51.777 DEBUG 13476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 00:19:21.900  INFO 13476 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:19:21.903  INFO 13476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:19:21.916  INFO 13476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:19:30.837  INFO 13184 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 13184 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:19:30.842  INFO 13184 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:19:32.724  INFO 13184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:19:33.003  INFO 13184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 12 JPA repository interfaces.
2023-08-27 00:19:34.109  INFO 13184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:19:34.120  INFO 13184 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:19:34.121  INFO 13184 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:19:34.301  INFO 13184 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:19:34.302  INFO 13184 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3375 ms
2023-08-27 00:19:34.571  INFO 13184 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:19:34.572  INFO 13184 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:19:34.572  INFO 13184 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:19:34.589  INFO 13184 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:19:34.742  INFO 13184 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:19:34.765  INFO 13184 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:19:34.843  INFO 13184 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.052s)
2023-08-27 00:19:34.859  INFO 13184 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:19:34.860  WARN 13184 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:19:34.862  INFO 13184 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:19:35.106  INFO 13184 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:19:35.205  INFO 13184 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:19:35.734  INFO 13184 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:19:36.817  INFO 13184 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:19:36.832  INFO 13184 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:19:38.493 DEBUG 13184 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:19:39.482  WARN 13184 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:19:40.565  INFO 13184 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2af1bf5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d77d9c6, org.springframework.security.web.context.SecurityContextPersistenceFilter@11267e87, org.springframework.security.web.header.HeaderWriterFilter@689eab53, org.springframework.web.filter.CorsFilter@2c5b4b91, org.springframework.security.web.authentication.logout.LogoutFilter@78e59b04, kg.kuban.airport.security.JwtAuthenticationFilter@51efdb72, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5bbb0a25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@da5b46f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@99f75e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51eeae0a, org.springframework.security.web.session.SessionManagementFilter@2604940, org.springframework.security.web.access.ExceptionTranslationFilter@54cce500, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@88fc9cb]
2023-08-27 00:19:40.994  INFO 13184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:19:41.012  INFO 13184 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.969 seconds (JVM running for 12.766)
2023-08-27 00:19:47.314  INFO 13184 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:19:47.316  INFO 13184 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:19:47.318  INFO 13184 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-08-27 00:19:47.344  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:19:47.435  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:19:47.436  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:19:47.563 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:19:47.641 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:19:47.654 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:19:47.663 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:19:47.670  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:19:47.671  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:19:47.673  INFO 13184 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:19:47.756 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:19:47.759 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:19:47.763 DEBUG 13184 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:21:50.641  INFO 13184 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:21:50.644  INFO 13184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:21:50.657  INFO 13184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:22:01.373  INFO 3300 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 3300 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:22:01.379  INFO 3300 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:22:03.223  INFO 3300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:22:03.535  INFO 3300 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 294 ms. Found 12 JPA repository interfaces.
2023-08-27 00:22:04.611  INFO 3300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:22:04.623  INFO 3300 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:22:04.624  INFO 3300 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:22:04.802  INFO 3300 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:22:04.802  INFO 3300 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3332 ms
2023-08-27 00:22:05.037  INFO 3300 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:22:05.037  INFO 3300 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:22:05.038  INFO 3300 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:22:05.054  INFO 3300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:22:05.207  INFO 3300 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:22:05.230  INFO 3300 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:22:05.304  INFO 3300 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.047s)
2023-08-27 00:22:05.321  INFO 3300 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:22:05.322  WARN 3300 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:22:05.324  INFO 3300 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:22:05.562  INFO 3300 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:22:05.662  INFO 3300 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:22:06.161  INFO 3300 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:22:07.236  INFO 3300 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:22:07.251  INFO 3300 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:22:09.026 DEBUG 3300 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:22:09.876  WARN 3300 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:22:10.901  INFO 3300 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6414eb98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61a17f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@43cf97a8, org.springframework.security.web.header.HeaderWriterFilter@6f30d0eb, org.springframework.web.filter.CorsFilter@352d3749, org.springframework.security.web.authentication.logout.LogoutFilter@53b9952f, kg.kuban.airport.security.JwtAuthenticationFilter@106edde4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@55ba4bff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@356ab368, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3398ed12, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a3e8b68, org.springframework.security.web.session.SessionManagementFilter@7827cdfc, org.springframework.security.web.access.ExceptionTranslationFilter@6de4071b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6731b6bd]
2023-08-27 00:22:11.382  INFO 3300 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:22:11.400  INFO 3300 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.81 seconds (JVM running for 12.782)
2023-08-27 00:22:38.982  INFO 3300 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:22:38.983  INFO 3300 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:22:38.989  INFO 3300 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-08-27 00:22:39.037  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:22:39.182  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:22:39.183  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:22:39.410 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:22:39.461 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:22:39.478 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:22:39.492 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:22:39.501  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:22:39.503  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:22:39.506  INFO 3300 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:22:39.612 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:22:39.616 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:22:39.625 DEBUG 3300 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:22:52.966  INFO 3300 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:22:52.969  INFO 3300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:22:52.985  INFO 3300 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:23:04.790  INFO 13464 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 13464 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:23:04.796  INFO 13464 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:23:06.625  INFO 13464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:23:06.911  INFO 13464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 265 ms. Found 12 JPA repository interfaces.
2023-08-27 00:23:07.813  INFO 13464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:23:07.824  INFO 13464 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:23:07.825  INFO 13464 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:23:08.006  INFO 13464 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:23:08.007  INFO 13464 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3129 ms
2023-08-27 00:23:08.259  INFO 13464 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:23:08.259  INFO 13464 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:23:08.259  INFO 13464 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:23:08.278  INFO 13464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:23:08.442  INFO 13464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:23:08.469  INFO 13464 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:23:08.556  INFO 13464 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.049s)
2023-08-27 00:23:08.572  INFO 13464 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:23:08.573  WARN 13464 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:23:08.574  INFO 13464 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:23:08.867  INFO 13464 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:23:08.970  INFO 13464 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:23:09.492  INFO 13464 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:23:10.602  INFO 13464 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:23:10.617  INFO 13464 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:23:12.507 DEBUG 13464 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:23:13.435  WARN 13464 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:23:14.480  INFO 13464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45dfb6a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@202ba60a, org.springframework.security.web.context.SecurityContextPersistenceFilter@da5b46f, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.web.filter.CorsFilter@12ebcdf6, org.springframework.security.web.authentication.logout.LogoutFilter@5ed88e31, kg.kuban.airport.security.JwtAuthenticationFilter@4d9cf71d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1f5a1ad4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b6ff016, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aefdb9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30dd23e2, org.springframework.security.web.session.SessionManagementFilter@470866d1, org.springframework.security.web.access.ExceptionTranslationFilter@11fa11b2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8bb5c2a]
2023-08-27 00:23:14.951  INFO 13464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:23:14.968  INFO 13464 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.002 seconds (JVM running for 12.697)
2023-08-27 00:23:19.170  INFO 13464 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:23:19.171  INFO 13464 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:23:19.175  INFO 13464 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-08-27 00:23:19.224  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 00:23:19.400  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 00:23:19.401  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 00:23:19.657 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:23:19.706 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 00:23:19.725 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:23:19.742 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:23:19.753  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 00:23:19.753  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 00:23:19.756  INFO 13464 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 00:23:19.876 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:23:19.882 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:23:19.919 DEBUG 13464 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:24:16.471  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJESVNQQVRDSEVSIiwiaWF0IjoxNjkzMDQ2MTkxLCJleHAiOjE2OTMxNjYxOTF9.ClIDVmzkvoc6Yvk3FHR7u61Emp9cRYMFfOt4uHEX49TvakUg9dpXY5HAvDpO1ekcQ9JQa2J_HFmbnNZRsYy8MQ
2023-08-27 00:24:16.473  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =DISPATCHER
2023-08-27 00:24:16.473  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=DISPATCHER
2023-08-27 00:24:16.474 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:24:16.476 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:24:16.479 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:24:16.482  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : DISPATCHER
2023-08-27 00:24:16.483  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =DISPATCHER
2023-08-27 00:24:16.483  INFO 13464 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=DISPATCHER
2023-08-27 00:24:16.486 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:24:16.488 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:24:16.491 DEBUG 13464 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:28:56.651  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:28:56.654  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:28:56.655  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:28:56.656 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:28:56.659 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:28:56.663 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:28:56.665  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:28:56.666  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:28:56.666  INFO 13464 --- [http-nio-8080-exec-7] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:28:56.712 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:28:56.713 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:28:56.716 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:28:56.726 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:28:56.729 DEBUG 13464 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:28:56.752 ERROR 13464 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find kg.kuban.airport.entity.Airplane with id 2; nested exception is javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2] with root cause

javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:177) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:216) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy147.getSeatById(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.getSeatById(SeatServiceImpl.java:129) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:37) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$9c61a689.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:163) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$d743f507.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$8a25c9d5.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:32:55.429  INFO 13464 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:32:55.594  INFO 13464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:32:55.746  INFO 13464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:33:10.806  INFO 10164 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 10164 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:33:10.813  INFO 10164 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:33:12.635  INFO 10164 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:33:12.915  INFO 10164 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 263 ms. Found 12 JPA repository interfaces.
2023-08-27 00:33:13.994  INFO 10164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:33:14.009  INFO 10164 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:33:14.009  INFO 10164 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:33:14.313  INFO 10164 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:33:14.314  INFO 10164 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3405 ms
2023-08-27 00:33:14.738  INFO 10164 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:33:14.738  INFO 10164 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:33:14.739  INFO 10164 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:33:14.764  INFO 10164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:33:15.018  INFO 10164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:33:15.044  INFO 10164 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:33:15.108  INFO 10164 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.037s)
2023-08-27 00:33:15.121  INFO 10164 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:33:15.121  WARN 10164 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:33:15.124  INFO 10164 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:33:15.410  INFO 10164 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:33:15.523  INFO 10164 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:33:16.305  INFO 10164 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:33:17.799  INFO 10164 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:33:17.828  INFO 10164 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:33:20.280 DEBUG 10164 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:33:21.408  WARN 10164 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:33:22.604  INFO 10164 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18711946, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b8b5d9e, org.springframework.security.web.context.SecurityContextPersistenceFilter@436d2bb9, org.springframework.security.web.header.HeaderWriterFilter@5cd6a827, org.springframework.web.filter.CorsFilter@9e092b5, org.springframework.security.web.authentication.logout.LogoutFilter@7be86438, kg.kuban.airport.security.JwtAuthenticationFilter@2a7392a3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1f4fa465, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20276412, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dae9e61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52737c1, org.springframework.security.web.session.SessionManagementFilter@22bca04e, org.springframework.security.web.access.ExceptionTranslationFilter@1ec09a68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10264cb0]
2023-08-27 00:33:23.246  INFO 10164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:33:23.268  INFO 10164 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.437 seconds (JVM running for 16.958)
2023-08-27 00:33:27.104  INFO 10164 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:33:27.105  INFO 10164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:33:27.109  INFO 10164 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 00:33:27.165  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:33:27.377  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:33:27.378  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:33:27.653 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:33:27.704 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:33:27.727 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:33:27.758  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:33:27.759  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:33:27.763  INFO 10164 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:33:50.927 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:33:50.943 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:33:50.964 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:33:55.841 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.flight_id as flight_i5_13_0_, userflight0_.id as id1_13_0_, userflight0_.id as id1_13_1_, userflight0_.user_id as user_id4_13_1_, userflight0_.date_register as date_reg2_13_1_, userflight0_.flight_id as flight_i5_13_1_, userflight0_.seat_id as seat_id6_13_1_, userflight0_.status as status3_13_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_, seat5_.id as id1_12_6_, seat5_.airplane_id as airplane4_12_6_, seat5_.is_occupied as is_occup2_12_6_, seat5_.seat_number as seat_num3_12_6_, airplane6_.id as id1_1_7_, airplane6_.aircompany as aircompa7_1_7_, airplane6_.board_number as board_nu2_1_7_, airplane6_.date_register as date_reg3_1_7_, airplane6_.marka as marka4_1_7_, airplane6_.number_seats as number_s5_1_7_, airplane6_.user_id as user_id8_1_7_, airplane6_.status as status6_1_7_ from users_flights userflight0_ left outer join app_users appuser1_ on userflight0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id left outer join seats seat5_ on userflight0_.seat_id=seat5_.id left outer join airplanes airplane6_ on seat5_.airplane_id=airplane6_.id where userflight0_.flight_id=?
2023-08-27 00:33:55.914 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:33:55.919 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:33:55.923 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:33:55.933 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select customerre0_.flight_id as flight_i6_5_0_, customerre0_.id as id1_5_0_, customerre0_.id as id1_5_1_, customerre0_.user_id as user_id5_5_1_, customerre0_.date_register as date_reg2_5_1_, customerre0_.flight_id as flight_i6_5_1_, customerre0_.mark as mark3_5_1_, customerre0_.review as review4_5_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_ from customer_reviews customerre0_ left outer join app_users appuser1_ on customerre0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id where customerre0_.flight_id=?
2023-08-27 00:35:24.389  WARN 10164 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m33s541ms495µs400ns).
2023-08-27 00:36:15.653  WARN 10164 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=51s263ms550µs700ns).
2023-08-27 00:36:28.520 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:36:28.527 DEBUG 10164 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:36:42.339 ERROR 10164 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find kg.kuban.airport.entity.Airplane with id 2; nested exception is javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2] with root cause

javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:177) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:216) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy147.getSeatById(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.getSeatById(SeatServiceImpl.java:128) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:37) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$c1ed7fae.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:162) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$fccfce2c.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$35b18b43.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:38:13.865  INFO 10164 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:38:13.869  INFO 10164 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:38:14.011  INFO 10164 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:38:21.835  INFO 7808 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 7808 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:38:21.840  INFO 7808 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:38:23.599  INFO 7808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:38:23.847  INFO 7808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 229 ms. Found 12 JPA repository interfaces.
2023-08-27 00:38:24.833  INFO 7808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:38:24.845  INFO 7808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:38:24.845  INFO 7808 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:38:25.075  INFO 7808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:38:25.076  INFO 7808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3157 ms
2023-08-27 00:38:25.322  INFO 7808 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:38:25.322  INFO 7808 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:38:25.322  INFO 7808 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:38:25.339  INFO 7808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:38:25.495  INFO 7808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:38:25.519  INFO 7808 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:38:25.589  INFO 7808 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.045s)
2023-08-27 00:38:25.606  INFO 7808 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:38:25.607  WARN 7808 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:38:25.610  INFO 7808 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:38:25.850  INFO 7808 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:38:25.932  INFO 7808 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:38:26.414  INFO 7808 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:38:27.549  INFO 7808 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:38:27.563  INFO 7808 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:38:29.303 DEBUG 7808 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:38:30.204  WARN 7808 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:38:31.250  INFO 7808 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3857c5d5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@237824b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@34a99d8, org.springframework.security.web.header.HeaderWriterFilter@1f27f354, org.springframework.web.filter.CorsFilter@52a8f789, org.springframework.security.web.authentication.logout.LogoutFilter@4c678a1f, kg.kuban.airport.security.JwtAuthenticationFilter@32c8d67, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@294b045b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13e6c544, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c68f29c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5345552f, org.springframework.security.web.session.SessionManagementFilter@21539796, org.springframework.security.web.access.ExceptionTranslationFilter@3f0b5619, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68aa1164]
2023-08-27 00:38:31.708  INFO 7808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:38:31.726  INFO 7808 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.64 seconds (JVM running for 12.343)
2023-08-27 00:39:32.028  INFO 7808 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:39:32.032  INFO 7808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:39:32.230  INFO 7808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:39:41.102  INFO 10340 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 10340 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:39:41.109  INFO 10340 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:39:43.019  INFO 10340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:39:43.327  INFO 10340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 12 JPA repository interfaces.
2023-08-27 00:39:44.545  INFO 10340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:39:44.557  INFO 10340 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:39:44.558  INFO 10340 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:39:44.759  INFO 10340 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:39:44.759  INFO 10340 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3538 ms
2023-08-27 00:39:45.048  INFO 10340 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:39:45.048  INFO 10340 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:39:45.049  INFO 10340 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:39:45.070  INFO 10340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:39:45.401  INFO 10340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:39:45.429  INFO 10340 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:39:45.498  INFO 10340 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.038s)
2023-08-27 00:39:45.514  INFO 10340 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:39:45.515  WARN 10340 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:39:45.516  INFO 10340 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:39:45.867  INFO 10340 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:39:45.990  INFO 10340 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:39:46.659  INFO 10340 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:39:48.050  INFO 10340 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:39:48.069  INFO 10340 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:39:50.108 DEBUG 10340 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:39:51.256  WARN 10340 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:39:52.531  INFO 10340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@737ae41a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a05cdc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4bc39640, org.springframework.security.web.header.HeaderWriterFilter@85eba52, org.springframework.web.filter.CorsFilter@5f3fafca, org.springframework.security.web.authentication.logout.LogoutFilter@2d2fe68a, kg.kuban.airport.security.JwtAuthenticationFilter@575fe6da, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3054cdd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1659d7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6892d403, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@174aabb2, org.springframework.security.web.session.SessionManagementFilter@2d4f1ddd, org.springframework.security.web.access.ExceptionTranslationFilter@fd5c7f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@38dc1c50]
2023-08-27 00:39:53.127  INFO 10340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:39:53.149  INFO 10340 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.985 seconds (JVM running for 15.166)
2023-08-27 00:39:57.741  INFO 10340 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:39:57.742  INFO 10340 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:39:57.745  INFO 10340 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 00:39:57.810  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:39:58.009  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:39:58.010  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:39:58.472 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:39:58.542 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:39:58.574 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:39:58.631  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:39:58.633  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:39:58.640  INFO 10340 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:40:09.226 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:40:09.230 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:40:09.237 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:40:21.486 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:40:21.553 DEBUG 10340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:40:21.720 ERROR 10340 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find kg.kuban.airport.entity.Airplane with id 2; nested exception is javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2] with root cause

javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:177) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:216) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy147.getSeatById(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.getSeatById(SeatServiceImpl.java:128) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:37) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$a1c6e91b.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:162) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$dca93799.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$8d4323b3.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:40:42.239  INFO 10340 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:40:42.253  INFO 10340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:40:42.405  INFO 10340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:40:49.960  INFO 5204 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 5204 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:40:49.966  INFO 5204 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:40:51.996  INFO 5204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:40:52.299  INFO 5204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 12 JPA repository interfaces.
2023-08-27 00:40:53.515  INFO 5204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:40:53.528  INFO 5204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:40:53.528  INFO 5204 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:40:53.746  INFO 5204 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:40:53.747  INFO 5204 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3680 ms
2023-08-27 00:40:54.029  INFO 5204 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:40:54.029  INFO 5204 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:40:54.029  INFO 5204 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:40:54.050  INFO 5204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:40:54.238  INFO 5204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:40:54.275  INFO 5204 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:40:54.348  INFO 5204 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.045s)
2023-08-27 00:40:54.368  INFO 5204 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:40:54.373  WARN 5204 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:40:54.375  INFO 5204 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:40:54.635  INFO 5204 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:40:54.749  INFO 5204 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:40:55.329  INFO 5204 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:40:56.822  INFO 5204 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:40:56.846  INFO 5204 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:40:58.922 DEBUG 5204 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:40:59.969  WARN 5204 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:41:01.291  INFO 5204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3af6d7a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18711946, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a574a3b, org.springframework.security.web.header.HeaderWriterFilter@1d0fc0bc, org.springframework.web.filter.CorsFilter@2b8b5d9e, org.springframework.security.web.authentication.logout.LogoutFilter@76ebd595, kg.kuban.airport.security.JwtAuthenticationFilter@74e175c7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@768f2398, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5418893c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22ba30b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9e092b5, org.springframework.security.web.session.SessionManagementFilter@1690929, org.springframework.security.web.access.ExceptionTranslationFilter@765eb801, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a937d43]
2023-08-27 00:41:01.877  INFO 5204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:41:01.898  INFO 5204 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.937 seconds (JVM running for 15.519)
2023-08-27 00:41:07.251  INFO 5204 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:41:07.252  INFO 5204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:41:07.254  INFO 5204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-08-27 00:41:07.287  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:41:07.414  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:41:07.415  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:41:07.602 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:41:07.644 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:41:07.665 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:41:07.688  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:41:07.689  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:41:07.694  INFO 5204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:41:22.407 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:41:22.431 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:41:22.465 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:41:43.607 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.flight_id as flight_i5_13_0_, userflight0_.id as id1_13_0_, userflight0_.id as id1_13_1_, userflight0_.user_id as user_id4_13_1_, userflight0_.date_register as date_reg2_13_1_, userflight0_.flight_id as flight_i5_13_1_, userflight0_.seat_id as seat_id6_13_1_, userflight0_.status as status3_13_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_, seat5_.id as id1_12_6_, seat5_.airplane_id as airplane4_12_6_, seat5_.is_occupied as is_occup2_12_6_, seat5_.seat_number as seat_num3_12_6_, airplane6_.id as id1_1_7_, airplane6_.aircompany as aircompa7_1_7_, airplane6_.board_number as board_nu2_1_7_, airplane6_.date_register as date_reg3_1_7_, airplane6_.marka as marka4_1_7_, airplane6_.number_seats as number_s5_1_7_, airplane6_.user_id as user_id8_1_7_, airplane6_.status as status6_1_7_ from users_flights userflight0_ left outer join app_users appuser1_ on userflight0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id left outer join seats seat5_ on userflight0_.seat_id=seat5_.id left outer join airplanes airplane6_ on seat5_.airplane_id=airplane6_.id where userflight0_.flight_id=?
2023-08-27 00:41:43.632 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:41:43.642 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:41:43.646 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:41:43.661 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select customerre0_.flight_id as flight_i6_5_0_, customerre0_.id as id1_5_0_, customerre0_.id as id1_5_1_, customerre0_.user_id as user_id5_5_1_, customerre0_.date_register as date_reg2_5_1_, customerre0_.flight_id as flight_i6_5_1_, customerre0_.mark as mark3_5_1_, customerre0_.review as review4_5_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_ from customer_reviews customerre0_ left outer join app_users appuser1_ on customerre0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id where customerre0_.flight_id=?
2023-08-27 00:42:13.271  WARN 5204 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s696ms186µs100ns).
2023-08-27 00:42:58.161 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:42:58.166 DEBUG 5204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:43:11.781 ERROR 5204 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find kg.kuban.airport.entity.Airplane with id 2; nested exception is javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2] with root cause

javax.persistence.EntityNotFoundException: Unable to find kg.kuban.airport.entity.Airplane with id 2
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:177) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:216) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1665) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy147.getSeatById(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.getSeatById(SeatServiceImpl.java:128) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:37) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$561047c0.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:162) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$90f2963e.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$83f36fc2.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:44:22.869  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:44:22.874  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:44:22.875  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:44:22.876 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:44:22.880 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:44:22.886 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:44:22.890  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:44:22.890  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:44:22.890  INFO 5204 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:44:43.245 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:44:43.252 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:44:43.270 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:44:55.999 DEBUG 5204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:44:56.032 ERROR 5204 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is kg.kuban.airport.exception.AirplaneSeatNotFoundException: Места в самолете с ID[1] не найдено!] with root cause

kg.kuban.airport.exception.AirplaneSeatNotFoundException: Места в самолете с ID[1] не найдено!
	at kg.kuban.airport.service.impl.SeatServiceImpl.getSeatById(SeatServiceImpl.java:131) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:37) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$561047c0.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:162) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$90f2963e.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$83f36fc2.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:46:23.477  INFO 5204 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:46:23.480  INFO 5204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:46:23.500  INFO 5204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:46:33.414  INFO 3744 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 3744 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:46:33.419  INFO 3744 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:46:35.221  INFO 3744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:46:35.480  INFO 3744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242 ms. Found 12 JPA repository interfaces.
2023-08-27 00:46:36.291  INFO 3744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:46:36.302  INFO 3744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:46:36.302  INFO 3744 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:46:36.483  INFO 3744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:46:36.484  INFO 3744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2984 ms
2023-08-27 00:46:36.719  INFO 3744 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:46:36.719  INFO 3744 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:46:36.720  INFO 3744 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:46:36.736  INFO 3744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:46:36.889  INFO 3744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:46:36.912  INFO 3744 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:46:36.990  INFO 3744 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.049s)
2023-08-27 00:46:37.007  INFO 3744 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:46:37.009  WARN 3744 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:46:37.011  INFO 3744 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:46:37.231  INFO 3744 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:46:37.349  INFO 3744 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:46:37.882  INFO 3744 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:46:38.936  INFO 3744 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:46:38.950  INFO 3744 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:46:40.718 DEBUG 3744 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:46:41.579  WARN 3744 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:46:42.788  INFO 3744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30dd23e2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@88fc9cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@2e096ac0, org.springframework.web.filter.CorsFilter@75693526, org.springframework.security.web.authentication.logout.LogoutFilter@125ba798, kg.kuban.airport.security.JwtAuthenticationFilter@32121140, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@19b4dd60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de4071b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39a1c200, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@61c4fc34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f1dadf4]
2023-08-27 00:46:43.244  INFO 3744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:46:43.262  INFO 3744 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.632 seconds (JVM running for 12.371)
2023-08-27 00:46:52.220  INFO 3744 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:46:52.222  INFO 3744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:46:52.224  INFO 3744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 00:46:52.251  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:46:52.335  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:46:52.335  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:46:52.457 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:46:52.488 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:46:52.501 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:46:52.516  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:46:52.517  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:46:52.519  INFO 3744 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:46:52.645 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:46:52.649 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:46:52.653 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:46:52.685 DEBUG 3744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:46:56.799  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:46:56.802  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:46:56.803  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:46:56.804 DEBUG 3744 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:46:56.807 DEBUG 3744 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:46:56.811 DEBUG 3744 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:46:56.814  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:46:56.815  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:46:56.816  INFO 3744 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:46:56.819 DEBUG 3744 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:47:01.205  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:47:01.208  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:47:01.208  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:47:01.209 DEBUG 3744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:47:01.211 DEBUG 3744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:47:01.214 DEBUG 3744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:47:01.218  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:47:01.219  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:47:01.219  INFO 3744 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:47:01.221 DEBUG 3744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:47:04.939  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:47:04.989  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:47:04.989  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:47:04.995 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:47:04.998 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:47:05.007 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:47:05.010  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:47:05.010  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:47:05.010  INFO 3744 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:47:05.013 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:47:05.014 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:47:05.018 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:47:05.021 DEBUG 3744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:47:13.855  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:47:13.858  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:47:13.858  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:47:13.859 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:47:13.861 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:47:13.864 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:47:13.866  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:47:13.866  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:47:13.866  INFO 3744 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:47:13.868 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:47:13.870 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:47:13.873 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:47:13.876 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:47:13.931 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:47:13.981 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 00:47:13.985 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 00:47:14.009 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 00:47:14.016 DEBUG 3744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 00:47:14.030 ERROR 3744 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.FlightMapper.mapToUserFlightRegistrationResponseDto(FlightMapper.java:58) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$bc4d1962.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:49:11.795  INFO 3744 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:49:11.799  INFO 3744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:49:12.154  INFO 3744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:49:21.559  INFO 8232 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 8232 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:49:21.565  INFO 8232 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:49:23.610  INFO 8232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:49:23.882  INFO 8232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 252 ms. Found 12 JPA repository interfaces.
2023-08-27 00:49:25.017  INFO 8232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:49:25.030  INFO 8232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:49:25.031  INFO 8232 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:49:25.245  INFO 8232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:49:25.247  INFO 8232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3573 ms
2023-08-27 00:49:25.534  INFO 8232 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:49:25.535  INFO 8232 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:49:25.535  INFO 8232 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:49:25.555  INFO 8232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:49:25.741  INFO 8232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:49:25.775  INFO 8232 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:49:25.848  INFO 8232 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.039s)
2023-08-27 00:49:25.865  INFO 8232 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:49:25.865  WARN 8232 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:49:25.867  INFO 8232 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:49:26.150  INFO 8232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:49:26.264  INFO 8232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:49:26.824  INFO 8232 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:49:28.197  INFO 8232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:49:28.215  INFO 8232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:49:31.233 DEBUG 8232 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:49:32.285  WARN 8232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:49:33.604  INFO 8232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a3c1b56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ce72, org.springframework.security.web.context.SecurityContextPersistenceFilter@436d2bb9, org.springframework.security.web.header.HeaderWriterFilter@5cd6a827, org.springframework.web.filter.CorsFilter@3ce4eb42, org.springframework.security.web.authentication.logout.LogoutFilter@7be86438, kg.kuban.airport.security.JwtAuthenticationFilter@2ba0b95f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a3e8b68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20276412, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dae9e61, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a388769, org.springframework.security.web.session.SessionManagementFilter@22bca04e, org.springframework.security.web.access.ExceptionTranslationFilter@1ec09a68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@649a6d88]
2023-08-27 00:49:34.385  INFO 8232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:49:34.406  INFO 8232 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.798 seconds (JVM running for 16.091)
2023-08-27 00:49:34.623  INFO 8232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:49:34.629  INFO 8232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:49:34.647  INFO 8232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:50:11.505  INFO 11824 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 11824 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:50:11.513  INFO 11824 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:50:13.634  INFO 11824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:50:13.936  INFO 11824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 282 ms. Found 12 JPA repository interfaces.
2023-08-27 00:50:15.151  INFO 11824 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:50:15.167  INFO 11824 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:50:15.168  INFO 11824 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:50:15.393  INFO 11824 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:50:15.394  INFO 11824 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3764 ms
2023-08-27 00:50:15.695  INFO 11824 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:50:15.695  INFO 11824 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:50:15.696  INFO 11824 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:50:15.717  INFO 11824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:50:15.918  INFO 11824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:50:15.965  INFO 11824 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:50:16.042  INFO 11824 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.046s)
2023-08-27 00:50:16.057  INFO 11824 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:50:16.058  WARN 11824 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:50:16.059  INFO 11824 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:50:16.340  INFO 11824 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:50:16.473  INFO 11824 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:50:17.154  INFO 11824 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:50:18.592  INFO 11824 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:50:18.611  INFO 11824 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:50:20.686 DEBUG 11824 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:50:21.846  WARN 11824 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:50:23.079  INFO 11824 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c3400df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7be9e9fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@54f62ac6, org.springframework.security.web.header.HeaderWriterFilter@16257f8c, org.springframework.web.filter.CorsFilter@7e864fa4, org.springframework.security.web.authentication.logout.LogoutFilter@32d8e58d, kg.kuban.airport.security.JwtAuthenticationFilter@21d48c40, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@52737c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fe4848, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a906078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@452d6fd, org.springframework.security.web.session.SessionManagementFilter@61d9dd15, org.springframework.security.web.access.ExceptionTranslationFilter@6d40a2b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b5e45bc]
2023-08-27 00:50:23.633  INFO 11824 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:50:23.652  INFO 11824 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.359 seconds (JVM running for 15.807)
2023-08-27 00:51:55.604  INFO 11824 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:51:55.606  INFO 11824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:51:55.609  INFO 11824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 00:51:55.659  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:51:55.866  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:51:55.867  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:51:56.187 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:51:56.237 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:51:56.263 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:51:56.294  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:51:56.295  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:51:56.297  INFO 11824 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:52:04.766 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:52:04.781 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:52:04.813 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:52:19.494 DEBUG 11824 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 00:52:39.350 ERROR 11824 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is kg.kuban.airport.exception.SeatBookingException: Ошибка! Место с ID [201] уже забронировано!] with root cause

kg.kuban.airport.exception.SeatBookingException: Ошибка! Место с ID [201] уже забронировано!
	at kg.kuban.airport.service.impl.SeatServiceImpl.bookingSeat(SeatServiceImpl.java:40) ~[classes/:na]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$FastClassBySpringCGLIB$$2f7640d9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.SeatServiceImpl$$EnhancerBySpringCGLIB$$f4da3f7f.bookingSeat(<generated>) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.bookingCustomerForFlight(UserFlightServiceImpl.java:162) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$2fbc8dfd.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$15f3202b.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 00:53:41.341  INFO 11824 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:53:41.344  INFO 11824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 00:53:41.404  INFO 11824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 00:53:52.607  INFO 6904 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 6904 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 00:53:52.613  INFO 6904 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 00:53:54.798  INFO 6904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 00:53:55.108  INFO 6904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 12 JPA repository interfaces.
2023-08-27 00:53:56.395  INFO 6904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 00:53:56.408  INFO 6904 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 00:53:56.409  INFO 6904 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 00:53:56.614  INFO 6904 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 00:53:56.614  INFO 6904 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3891 ms
2023-08-27 00:53:56.929  INFO 6904 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 00:53:56.930  INFO 6904 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 00:53:56.930  INFO 6904 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 00:53:56.955  INFO 6904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 00:53:57.142  INFO 6904 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 00:53:57.183  INFO 6904 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 00:53:57.257  INFO 6904 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.042s)
2023-08-27 00:53:57.273  INFO 6904 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 00:53:57.274  WARN 6904 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 00:53:57.275  INFO 6904 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 00:53:57.564  INFO 6904 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 00:53:57.667  INFO 6904 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 00:53:58.249  INFO 6904 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 00:53:59.703  INFO 6904 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 00:53:59.724  INFO 6904 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 00:54:01.766 DEBUG 6904 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 00:54:02.993  WARN 6904 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 00:54:04.357  INFO 6904 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eff05e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1002c49e, org.springframework.security.web.context.SecurityContextPersistenceFilter@397bd46b, org.springframework.security.web.header.HeaderWriterFilter@11ec2b2f, org.springframework.web.filter.CorsFilter@62eb918, org.springframework.security.web.authentication.logout.LogoutFilter@5b4880b3, kg.kuban.airport.security.JwtAuthenticationFilter@25dc2c0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@723081a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76ebd595, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4560eb15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21a462ce, org.springframework.security.web.session.SessionManagementFilter@79080255, org.springframework.security.web.access.ExceptionTranslationFilter@4144d4a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b8ce72]
2023-08-27 00:54:04.995  INFO 6904 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 00:54:05.020  INFO 6904 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.421 seconds (JVM running for 15.993)
2023-08-27 00:54:08.143  INFO 6904 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 00:54:08.144  INFO 6904 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 00:54:08.149  INFO 6904 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-08-27 00:54:08.203  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 00:54:08.344  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 00:54:08.344  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 00:54:08.559 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 00:54:08.599 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 00:54:08.615 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 00:54:08.639  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 00:54:08.640  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 00:54:08.642  INFO 6904 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 00:54:15.339 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 00:54:15.344 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 00:54:15.361 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 00:54:20.142 DEBUG 6904 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:11:35.725  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:11:35.730  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:11:35.730  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:11:35.732 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:11:35.737 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:11:35.742 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:11:35.746  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:11:35.746  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:11:35.747  INFO 6904 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:11:35.753 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:11:35.756 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:11:35.762 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:11:35.768 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:11:52.114 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:11:57.695 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:11:57.725 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:12:33.728 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 01:12:36.374 DEBUG 6904 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:12:36.398 ERROR 6904 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.FlightMapper.mapToUserFlightRegistrationResponseDto(FlightMapper.java:58) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$2353c588.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:13:29.493  INFO 6904 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:13:29.496  INFO 6904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:13:29.654  INFO 6904 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:13:36.101  INFO 724 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 724 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:13:36.109  INFO 724 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:13:37.949  INFO 724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:13:38.182  INFO 724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 215 ms. Found 12 JPA repository interfaces.
2023-08-27 01:13:39.128  INFO 724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:13:39.139  INFO 724 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:13:39.140  INFO 724 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:13:39.322  INFO 724 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:13:39.323  INFO 724 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3120 ms
2023-08-27 01:13:39.592  INFO 724 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:13:39.594  INFO 724 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:13:39.596  INFO 724 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:13:39.619  INFO 724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:13:39.788  INFO 724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:13:39.827  INFO 724 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:13:39.903  INFO 724 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.040s)
2023-08-27 01:13:39.916  INFO 724 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:13:39.917  WARN 724 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:13:39.918  INFO 724 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:13:40.175  INFO 724 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:13:40.274  INFO 724 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:13:40.815  INFO 724 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:13:42.143  INFO 724 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:13:42.161  INFO 724 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:13:44.052 DEBUG 724 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:13:45.050  WARN 724 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:13:46.169  INFO 724 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ae85aad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@737ae41a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6892d403, org.springframework.security.web.header.HeaderWriterFilter@22a8c837, org.springframework.web.filter.CorsFilter@7a05cdc8, org.springframework.security.web.authentication.logout.LogoutFilter@c3c63c1, kg.kuban.airport.security.JwtAuthenticationFilter@64f613da, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@649a6d88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f7b1d6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32d8e58d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f3fafca, org.springframework.security.web.session.SessionManagementFilter@4bc39640, org.springframework.security.web.access.ExceptionTranslationFilter@3724ab90, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@452d6fd]
2023-08-27 01:13:46.672  INFO 724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:13:46.691  INFO 724 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.499 seconds (JVM running for 13.579)
2023-08-27 01:13:54.741  INFO 724 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:13:54.742  INFO 724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:13:54.746  INFO 724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-08-27 01:13:54.785  INFO 724 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:13:54.932  INFO 724 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:13:54.933  INFO 724 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:13:55.156 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:13:55.198 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:13:55.219 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:13:55.247  INFO 724 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:13:55.248  INFO 724 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:13:55.252  INFO 724 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:13:55.525 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:13:55.530 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:13:55.535 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:13:55.570 DEBUG 724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:14:02.983  INFO 724 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:14:02.985  INFO 724 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:14:02.985  INFO 724 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:14:02.986 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:14:02.989 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:14:02.991 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:14:02.993  INFO 724 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:14:02.994  INFO 724 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:14:02.994  INFO 724 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:14:02.998 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:14:03.000 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:14:03.003 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:14:03.006 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:14:14.825 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:14:14.909 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:14:14.915 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:14:17.192 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 01:14:17.204 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:14:51.383 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select userflight0_.flight_id as flight_i5_13_0_, userflight0_.id as id1_13_0_, userflight0_.id as id1_13_1_, userflight0_.user_id as user_id4_13_1_, userflight0_.date_register as date_reg2_13_1_, userflight0_.flight_id as flight_i5_13_1_, userflight0_.seat_id as seat_id6_13_1_, userflight0_.status as status3_13_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_, seat5_.id as id1_12_6_, seat5_.airplane_id as airplane4_12_6_, seat5_.is_occupied as is_occup2_12_6_, seat5_.seat_number as seat_num3_12_6_, airplane6_.id as id1_1_7_, airplane6_.aircompany as aircompa7_1_7_, airplane6_.board_number as board_nu2_1_7_, airplane6_.date_register as date_reg3_1_7_, airplane6_.marka as marka4_1_7_, airplane6_.number_seats as number_s5_1_7_, airplane6_.user_id as user_id8_1_7_, airplane6_.status as status6_1_7_ from users_flights userflight0_ left outer join app_users appuser1_ on userflight0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id left outer join seats seat5_ on userflight0_.seat_id=seat5_.id left outer join airplanes airplane6_ on seat5_.airplane_id=airplane6_.id where userflight0_.flight_id=?
2023-08-27 01:14:51.412 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:14:51.417 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:14:51.421 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:14:51.424 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:14:51.432 DEBUG 724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select customerre0_.flight_id as flight_i6_5_0_, customerre0_.id as id1_5_0_, customerre0_.id as id1_5_1_, customerre0_.user_id as user_id5_5_1_, customerre0_.date_register as date_reg2_5_1_, customerre0_.flight_id as flight_i6_5_1_, customerre0_.mark as mark3_5_1_, customerre0_.review as review4_5_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_ from customer_reviews customerre0_ left outer join app_users appuser1_ on customerre0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id where customerre0_.flight_id=?
2023-08-27 01:17:40.336  WARN 724 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m29s379ms299µs800ns).
2023-08-27 01:17:40.366 ERROR 724 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.FlightMapper.mapToUserFlightRegistrationResponseDto(FlightMapper.java:58) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$edd82c5.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:17:42.322  INFO 724 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:17:42.327  INFO 724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:17:42.347  INFO 724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:17:53.811  INFO 11780 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 11780 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:17:53.817  INFO 11780 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:17:55.817  INFO 11780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:17:56.082  INFO 11780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 12 JPA repository interfaces.
2023-08-27 01:17:57.041  INFO 11780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:17:57.054  INFO 11780 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:17:57.054  INFO 11780 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:17:57.237  INFO 11780 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:17:57.237  INFO 11780 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3339 ms
2023-08-27 01:17:57.475  INFO 11780 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:17:57.476  INFO 11780 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:17:57.476  INFO 11780 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:17:57.492  INFO 11780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:17:57.666  INFO 11780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:17:57.692  INFO 11780 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:17:57.764  INFO 11780 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.040s)
2023-08-27 01:17:57.780  INFO 11780 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:17:57.781  WARN 11780 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:17:57.784  INFO 11780 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:17:58.026  INFO 11780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:17:58.127  INFO 11780 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:17:58.700  INFO 11780 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:17:59.948  INFO 11780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:17:59.965  INFO 11780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:18:01.676 DEBUG 11780 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:18:02.529  WARN 11780 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:18:03.566  INFO 11780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d695f9d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7daf167, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c68f29c, org.springframework.security.web.header.HeaderWriterFilter@702432cc, org.springframework.web.filter.CorsFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@248ba4fc, kg.kuban.airport.security.JwtAuthenticationFilter@af007d6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d10e2b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47d7e4b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@623ed5ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@735b1ad2, org.springframework.security.web.session.SessionManagementFilter@34a99d8, org.springframework.security.web.access.ExceptionTranslationFilter@7a79d99c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44ac94c2]
2023-08-27 01:18:04.047  INFO 11780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:18:04.078  INFO 11780 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.043 seconds (JVM running for 12.824)
2023-08-27 01:18:19.176  INFO 11780 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:18:19.177  INFO 11780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:18:19.181  INFO 11780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 01:18:19.226  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:18:19.387  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:18:19.388  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:18:19.596 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:18:19.637 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:18:19.659 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:18:19.686  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:18:19.686  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:18:19.689  INFO 11780 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:18:19.934 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:18:19.938 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:18:19.946 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:18:19.996 DEBUG 11780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:18:25.299  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:18:25.302  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:18:25.302  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:18:25.303 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:18:25.305 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:18:25.309 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:18:25.312  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:18:25.312  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:18:25.312  INFO 11780 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:18:25.316 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:18:25.317 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:18:25.322 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:18:25.326 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:18:25.356 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:18:25.415 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:18:25.420 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:18:25.446 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 01:18:25.453 DEBUG 11780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:18:25.474 ERROR 11780 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.FlightMapper.mapToUserFlightRegistrationResponseDto(FlightMapper.java:58) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$326ed25a.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:18:35.266  INFO 11780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:18:35.269  INFO 11780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:18:35.479  INFO 11780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:18:45.052  INFO 11464 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 11464 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:18:45.059  INFO 11464 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:18:47.087  INFO 11464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:18:47.379  INFO 11464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 272 ms. Found 12 JPA repository interfaces.
2023-08-27 01:18:48.336  INFO 11464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:18:48.349  INFO 11464 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:18:48.349  INFO 11464 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:18:48.555  INFO 11464 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:18:48.556  INFO 11464 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3394 ms
2023-08-27 01:18:48.863  INFO 11464 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:18:48.863  INFO 11464 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:18:48.863  INFO 11464 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:18:48.884  INFO 11464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:18:49.059  INFO 11464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:18:49.092  INFO 11464 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:18:49.169  INFO 11464 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.042s)
2023-08-27 01:18:49.185  INFO 11464 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:18:49.186  WARN 11464 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:18:49.188  INFO 11464 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:18:49.484  INFO 11464 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:18:49.594  INFO 11464 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:18:50.193  INFO 11464 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:18:51.524  INFO 11464 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:18:51.541  INFO 11464 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:18:53.500 DEBUG 11464 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:18:54.731  WARN 11464 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:18:55.963  INFO 11464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e405eaf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4981b83, org.springframework.security.web.context.SecurityContextPersistenceFilter@4144d4a, org.springframework.security.web.header.HeaderWriterFilter@6cd65042, org.springframework.web.filter.CorsFilter@4446a191, org.springframework.security.web.authentication.logout.LogoutFilter@5fe4848, kg.kuban.airport.security.JwtAuthenticationFilter@7c680fe1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a5c0b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dae9e61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37b44e8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ef812b, org.springframework.security.web.session.SessionManagementFilter@20608ef4, org.springframework.security.web.access.ExceptionTranslationFilter@7da9b32c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40e7aea9]
2023-08-27 01:18:56.520  INFO 11464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:18:56.539  INFO 11464 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.481 seconds (JVM running for 14.808)
2023-08-27 01:19:05.036  INFO 11464 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:19:05.037  INFO 11464 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:19:05.040  INFO 11464 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 01:19:05.073  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:19:05.191  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:19:05.192  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:19:05.363 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:19:05.433 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:19:05.450 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:19:05.475  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:19:05.476  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:19:05.496  INFO 11464 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:19:05.697 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:19:05.700 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:19:05.705 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:19:05.740 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:19:05.787 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:19:05.857 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:19:05.863 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:19:05.889 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 01:19:05.897 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:19:16.502 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.seat_id as seat_id6_13_0_, userflight0_.id as id1_13_0_, userflight0_.id as id1_13_1_, userflight0_.user_id as user_id4_13_1_, userflight0_.date_register as date_reg2_13_1_, userflight0_.flight_id as flight_i5_13_1_, userflight0_.seat_id as seat_id6_13_1_, userflight0_.status as status3_13_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_, flight5_.id as id1_6_6_, flight5_.airplane_id as airplane7_6_6_, flight5_.date_register as date_reg2_6_6_, flight5_.destination as destinat8_6_6_, flight5_.flight_number as flight_n3_6_6_, flight5_.is_available as is_avail4_6_6_, flight5_.status as status5_6_6_, flight5_.tickets_left as tickets_6_6_6_, airplane6_.id as id1_1_7_, airplane6_.aircompany as aircompa7_1_7_, airplane6_.board_number as board_nu2_1_7_, airplane6_.date_register as date_reg3_1_7_, airplane6_.marka as marka4_1_7_, airplane6_.number_seats as number_s5_1_7_, airplane6_.user_id as user_id8_1_7_, airplane6_.status as status6_1_7_, airport7_.id as id1_2_8_, airport7_.city as city2_2_8_, airport7_.title as title3_2_8_ from users_flights userflight0_ left outer join app_users appuser1_ on userflight0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id left outer join flights flight5_ on userflight0_.flight_id=flight5_.id left outer join airplanes airplane6_ on flight5_.airplane_id=airplane6_.id left outer join airports airport7_ on flight5_.destination=airport7_.id where userflight0_.seat_id=?
2023-08-27 01:19:16.510 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:19:21.054 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.flight_id as flight_i5_13_0_, userflight0_.id as id1_13_0_, userflight0_.id as id1_13_1_, userflight0_.user_id as user_id4_13_1_, userflight0_.date_register as date_reg2_13_1_, userflight0_.flight_id as flight_i5_13_1_, userflight0_.seat_id as seat_id6_13_1_, userflight0_.status as status3_13_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_, seat5_.id as id1_12_6_, seat5_.airplane_id as airplane4_12_6_, seat5_.is_occupied as is_occup2_12_6_, seat5_.seat_number as seat_num3_12_6_, airplane6_.id as id1_1_7_, airplane6_.aircompany as aircompa7_1_7_, airplane6_.board_number as board_nu2_1_7_, airplane6_.date_register as date_reg3_1_7_, airplane6_.marka as marka4_1_7_, airplane6_.number_seats as number_s5_1_7_, airplane6_.user_id as user_id8_1_7_, airplane6_.status as status6_1_7_ from users_flights userflight0_ left outer join app_users appuser1_ on userflight0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id left outer join seats seat5_ on userflight0_.seat_id=seat5_.id left outer join airplanes airplane6_ on seat5_.airplane_id=airplane6_.id where userflight0_.flight_id=?
2023-08-27 01:19:21.068 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:19:21.070 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:19:21.072 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:19:21.076 DEBUG 11464 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select customerre0_.flight_id as flight_i6_5_0_, customerre0_.id as id1_5_0_, customerre0_.id as id1_5_1_, customerre0_.user_id as user_id5_5_1_, customerre0_.date_register as date_reg2_5_1_, customerre0_.flight_id as flight_i6_5_1_, customerre0_.mark as mark3_5_1_, customerre0_.review as review4_5_1_, appuser1_.id as id1_4_2_, appuser1_.date_begin as date_beg2_4_2_, appuser1_.date_ending as date_end3_4_2_, appuser1_.full_name as full_nam4_4_2_, appuser1_.is_enabled as is_enabl5_4_2_, appuser1_.position_id as position8_4_2_, appuser1_.user_login as user_log6_4_2_, appuser1_.user_password as user_pas7_4_2_, position2_.id as id1_11_3_, position2_.title as title2_11_3_, airplane3_.id as id1_1_4_, airplane3_.aircompany as aircompa7_1_4_, airplane3_.board_number as board_nu2_1_4_, airplane3_.date_register as date_reg3_1_4_, airplane3_.marka as marka4_1_4_, airplane3_.number_seats as number_s5_1_4_, airplane3_.user_id as user_id8_1_4_, airplane3_.status as status6_1_4_, aircompany4_.id as id1_0_5_, aircompany4_.title as title2_0_5_ from customer_reviews customerre0_ left outer join app_users appuser1_ on customerre0_.user_id=appuser1_.id left outer join positions position2_ on appuser1_.position_id=position2_.id left outer join airplanes airplane3_ on appuser1_.id=airplane3_.user_id left outer join aircompanies aircompany4_ on airplane3_.aircompany=aircompany4_.id where customerre0_.flight_id=?
2023-08-27 01:20:56.459  WARN 11464 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m7s298ms879µs).
2023-08-27 01:21:04.504 ERROR 11464 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.FlightMapper.mapToUserFlightRegistrationResponseDto(FlightMapper.java:58) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.bookingCustomerForFlight(UserFlightController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$663d870e.bookingCustomerForFlight(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:25:41.270  INFO 11464 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:25:41.274  INFO 11464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:25:41.289  INFO 11464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:26:06.258  INFO 5764 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 5764 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:26:06.263  INFO 5764 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:26:08.102  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:26:08.323  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 203 ms. Found 12 JPA repository interfaces.
2023-08-27 01:26:09.101  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:26:09.112  INFO 5764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:26:09.113  INFO 5764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:26:09.304  INFO 5764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:26:09.305  INFO 5764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2963 ms
2023-08-27 01:26:09.548  INFO 5764 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:26:09.548  INFO 5764 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:26:09.549  INFO 5764 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:26:09.565  INFO 5764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:26:09.724  INFO 5764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:26:09.747  INFO 5764 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:26:09.819  INFO 5764 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.043s)
2023-08-27 01:26:09.832  INFO 5764 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:26:09.832  WARN 5764 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:26:09.834  INFO 5764 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:26:10.060  INFO 5764 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:26:10.146  INFO 5764 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:26:10.680  INFO 5764 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:26:11.754  INFO 5764 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:26:11.769  INFO 5764 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:26:13.526 DEBUG 5764 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:26:14.444  WARN 5764 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:26:15.684  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@160d68b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2af1bf5a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@4c678a1f, org.springframework.web.filter.CorsFilter@1d77d9c6, org.springframework.security.web.authentication.logout.LogoutFilter@139b3a29, kg.kuban.airport.security.JwtAuthenticationFilter@3e1c5e0d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@77a1df4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f30d0eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c5b4b91, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30dd23e2]
2023-08-27 01:26:16.487  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:26:16.519  INFO 5764 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.075 seconds (JVM running for 13.979)
2023-08-27 01:26:24.657  INFO 5764 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:26:24.658  INFO 5764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:26:24.660  INFO 5764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 01:26:24.683  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:26:24.775  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:26:24.775  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:26:24.904 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:26:24.935 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:26:24.947 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:26:24.963  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:26:24.963  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:26:24.965  INFO 5764 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:26:25.096 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:26:25.099 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:26:25.103 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:26:25.141 DEBUG 5764 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:26:30.590  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3MjcxMywiZXhwIjoxNjkzMTkyNzEzfQ.oB0I5AiJoD3fE-EWqHUgUCbn1iLpUvwRMXONwATraw7DR9aIKAUpkxffTLBMuWZENkoXEff_5nX1Y0Pc1te6Dw
2023-08-27 01:26:30.594  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:26:30.594  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:26:30.595 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:26:30.598 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:26:30.602 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:26:30.605  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:26:30.605  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:26:30.606  INFO 5764 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:26:30.610 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:26:30.612 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_0_, airplane0_.aircompany as aircompa7_1_0_, airplane0_.board_number as board_nu2_1_0_, airplane0_.date_register as date_reg3_1_0_, airplane0_.marka as marka4_1_0_, airplane0_.number_seats as number_s5_1_0_, airplane0_.user_id as user_id8_1_0_, airplane0_.status as status6_1_0_, aircompany1_.id as id1_0_1_, aircompany1_.title as title2_0_1_, appuser2_.id as id1_4_2_, appuser2_.date_begin as date_beg2_4_2_, appuser2_.date_ending as date_end3_4_2_, appuser2_.full_name as full_nam4_4_2_, appuser2_.is_enabled as is_enabl5_4_2_, appuser2_.position_id as position8_4_2_, appuser2_.user_login as user_log6_4_2_, appuser2_.user_password as user_pas7_4_2_, approles3_.user_id as user_id1_8_3_, approle4_.id as role_id2_8_3_, approle4_.id as id1_3_4_, approle4_.position_id as position3_3_4_, approle4_.title as title2_3_4_, position5_.id as id1_11_5_, position5_.title as title2_11_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.id=?
2023-08-27 01:26:30.617 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airport0_.id as id1_2_0_, airport0_.city as city2_2_0_, airport0_.title as title3_2_0_ from airports airport0_ where airport0_.id=?
2023-08-27 01:26:30.621 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:26:30.669 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:26:30.723 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:26:30.728 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:26:30.748 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users_flights (user_id, date_register, flight_id, seat_id, status) values (?, ?, ?, ?, ?)
2023-08-27 01:26:30.755 DEBUG 5764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:28:36.791  INFO 5764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:28:36.807  INFO 5764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:28:36.824  INFO 5764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:28:46.710  INFO 3872 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 3872 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:28:46.715  INFO 3872 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:28:48.593  INFO 3872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:28:48.859  INFO 3872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 249 ms. Found 12 JPA repository interfaces.
2023-08-27 01:28:49.872  INFO 3872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:28:49.883  INFO 3872 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:28:49.884  INFO 3872 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:28:50.089  INFO 3872 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:28:50.090  INFO 3872 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3294 ms
2023-08-27 01:28:50.454  INFO 3872 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:28:50.456  INFO 3872 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:28:50.457  INFO 3872 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:28:50.503  INFO 3872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:28:50.731  INFO 3872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:28:50.769  INFO 3872 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:28:50.848  INFO 3872 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.050s)
2023-08-27 01:28:50.865  INFO 3872 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:28:50.865  WARN 3872 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:28:50.867  INFO 3872 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:28:51.163  INFO 3872 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:28:51.256  INFO 3872 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:28:51.831  INFO 3872 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:28:54.120  INFO 3872 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:28:54.139  INFO 3872 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:28:58.382 DEBUG 3872 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:29:00.295  WARN 3872 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:29:01.464  INFO 3872 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@352d3749, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a3e8b68, org.springframework.security.web.context.SecurityContextPersistenceFilter@2604940, org.springframework.security.web.header.HeaderWriterFilter@755033c5, org.springframework.web.filter.CorsFilter@5935eb9c, org.springframework.security.web.authentication.logout.LogoutFilter@55a07f97, kg.kuban.airport.security.JwtAuthenticationFilter@22d47f09, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5694f6a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@470866d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11267e87, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fc6cac6, org.springframework.security.web.session.SessionManagementFilter@22a1d77b, org.springframework.security.web.access.ExceptionTranslationFilter@217009bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f4fa465]
2023-08-27 01:29:01.932  INFO 3872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:29:01.950  INFO 3872 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 16.062 seconds (JVM running for 17.812)
2023-08-27 01:29:19.615  INFO 3872 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:29:19.616  INFO 3872 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:29:19.619  INFO 3872 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 01:29:19.648  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiLQoUhJRUZfRElTUEFUQ0hFUiIsImlhdCI6MTY5MzA3MzcxNSwiZXhwIjoxNjkzMTkzNzE1fQ.3H6PCmLM8Fc4JaOrRMueXghd3xHtqV0CgzV16mYfDi5ByR9lc4DY6_QQ6OtrxYHXP3pBGdgz7fDk0fQ2AMS7UQ
2023-08-27 01:29:19.747  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =СHIEF_DISPATCHER
2023-08-27 01:29:19.748  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=СHIEF_DISPATCHER
2023-08-27 01:29:19.892 DEBUG 3872 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:29:19.966 DEBUG 3872 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select position0_.id as id1_11_0_, position0_.title as title2_11_0_ from positions position0_ where position0_.id=?
2023-08-27 01:29:19.981 DEBUG 3872 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:29:19.991 DEBUG 3872 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:29:19.999  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : СHIEF_DISPATCHER
2023-08-27 01:29:20.000  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =СHIEF_DISPATCHER
2023-08-27 01:29:20.003  INFO 3872 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=СHIEF_DISPATCHER
2023-08-27 01:29:30.013  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.controller.v1.AuthController       : authDto login=CUSTOMER
2023-08-27 01:29:30.015  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.controller.v1.AuthController       : authDto password=CUSTOMER
2023-08-27 01:29:30.015  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.controller.v1.AuthController       : before loginUser
2023-08-27 01:29:30.015  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:29:30.017 DEBUG 3872 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:29:30.019 DEBUG 3872 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:29:30.023 DEBUG 3872 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:29:30.025  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:29:30.339  INFO 3872 --- [http-nio-8080-exec-3] k.k.a.controller.v1.AuthController       : Token: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:29:42.028  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:29:42.031  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:29:42.031  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:29:42.032 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:29:42.035 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:29:42.038 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:29:42.040  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:29:42.040  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:29:42.040  INFO 3872 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:29:42.116 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.status=? and userflight0_.id=? and userflight0_.user_id=? limit ?
2023-08-27 01:29:42.120 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 01:29:42.125 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 01:29:42.131 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:29:42.167 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.id=?
2023-08-27 01:29:42.193 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 01:29:42.206 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : update seats set airplane_id=?, is_occupied=?, seat_number=? where id=?
2023-08-27 01:29:42.211 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select seat0_.id as id1_12_, seat0_.airplane_id as airplane4_12_, seat0_.is_occupied as is_occup2_12_, seat0_.seat_number as seat_num3_12_ from seats seat0_ where seat0_.airplane_id=? and seat0_.is_occupied=?
2023-08-27 01:29:42.223 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : update users_flights set user_id=?, date_register=?, flight_id=?, seat_id=?, status=? where id=?
2023-08-27 01:29:42.225 DEBUG 3872 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : update flights set airplane_id=?, date_register=?, destination=?, flight_number=?, is_available=?, status=?, tickets_left=? where id=?
2023-08-27 01:34:46.847  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.controller.v1.AuthController       : authDto login=CUSTOMER
2023-08-27 01:34:46.847  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.controller.v1.AuthController       : authDto password=CUSTOMER
2023-08-27 01:34:46.848  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.controller.v1.AuthController       : before loginUser
2023-08-27 01:34:46.848  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:34:46.849 DEBUG 3872 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:34:46.853 DEBUG 3872 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:34:46.857 DEBUG 3872 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:34:46.862  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:34:47.170  INFO 3872 --- [http-nio-8080-exec-8] k.k.a.controller.v1.AuthController       : Token: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODQ4NywiZXhwIjoxNjkzMTk4NDg3fQ.AVNRFf9edzyaLkzeCrS8sA2OD7PjUUwec2pFf6V-DkjaDLu5O5WB_eRH3S-oLhRbnzI8XP4heaV5vjd7j3qFYg
2023-08-27 01:34:58.206  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:34:58.212  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:34:58.212  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:34:58.214 DEBUG 3872 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:34:58.217 DEBUG 3872 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:34:58.221 DEBUG 3872 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:34:58.223  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:34:58.224  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:34:58.224  INFO 3872 --- [http-nio-8080-exec-9] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:34:58.236 DEBUG 3872 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ cross join app_users appuser1_ cross join positions position2_ where userflight0_.user_id=appuser1_.id and appuser1_.position_id=position2_.id and userflight0_.user_id=? and position2_.title=?
2023-08-27 01:34:58.249 ERROR 3872 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is kg.kuban.airport.exception.UserFlightNotFoundException: Регистраций пользователей на рейс по укзанным параметрам не найдено!] with root cause

kg.kuban.airport.exception.UserFlightNotFoundException: Регистраций пользователей на рейс по укзанным параметрам не найдено!
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.getAllUserRegistrations(UserFlightServiceImpl.java:349) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl.getCustomersFlightBookingHistory(UserFlightServiceImpl.java:393) ~[classes/:na]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$FastClassBySpringCGLIB$$fcf04a43.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.UserFlightServiceImpl$$EnhancerBySpringCGLIB$$d743f507.getCustomersFlightBookingHistory(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.getCustomersFlightHistory(UserFlightController.java:277) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$c4dada06.getCustomersFlightHistory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:35:46.274  INFO 3872 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:35:46.290  INFO 3872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:35:46.312  INFO 3872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:35:57.346  INFO 7836 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 7836 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:35:57.351  INFO 7836 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:35:59.173  INFO 7836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:35:59.447  INFO 7836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 12 JPA repository interfaces.
2023-08-27 01:36:00.299  INFO 7836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:36:00.309  INFO 7836 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:36:00.310  INFO 7836 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:36:00.495  INFO 7836 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:36:00.496  INFO 7836 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3059 ms
2023-08-27 01:36:00.755  INFO 7836 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:36:00.756  INFO 7836 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:36:00.756  INFO 7836 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:36:00.774  INFO 7836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:36:00.926  INFO 7836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:36:00.948  INFO 7836 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:36:01.022  INFO 7836 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.047s)
2023-08-27 01:36:01.038  INFO 7836 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:36:01.039  WARN 7836 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:36:01.040  INFO 7836 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:36:01.304  INFO 7836 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:36:01.398  INFO 7836 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:36:01.940  INFO 7836 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:36:03.037  INFO 7836 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:36:03.052  INFO 7836 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:36:04.715 DEBUG 7836 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:36:05.665  WARN 7836 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:36:06.764  INFO 7836 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@202ba60a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12ebcdf6, org.springframework.security.web.context.SecurityContextPersistenceFilter@689eab53, org.springframework.security.web.header.HeaderWriterFilter@47fbf95e, org.springframework.web.filter.CorsFilter@30dd23e2, org.springframework.security.web.authentication.logout.LogoutFilter@356ab368, kg.kuban.airport.security.JwtAuthenticationFilter@4b4228cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@64dfa1a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c9168c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ac0fdc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@88fc9cb, org.springframework.security.web.session.SessionManagementFilter@5e085259, org.springframework.security.web.access.ExceptionTranslationFilter@49e92724, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a9d572]
2023-08-27 01:36:07.207  INFO 7836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:36:07.231  INFO 7836 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.696 seconds (JVM running for 12.414)
2023-08-27 01:36:30.186  INFO 7836 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:36:30.187  INFO 7836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:36:30.190  INFO 7836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 01:36:30.229  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:36:30.385  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:36:30.386  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:36:30.571 DEBUG 7836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:36:30.600 DEBUG 7836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:36:30.613 DEBUG 7836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:36:30.632  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:36:30.632  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:36:30.634  INFO 7836 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:36:30.752 DEBUG 7836 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ cross join app_users appuser1_ cross join positions position2_ where userflight0_.user_id=appuser1_.id and appuser1_.position_id=position2_.id and userflight0_.user_id=? and position2_.title=?
2023-08-27 01:38:47.672  INFO 7836 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:38:47.675  INFO 7836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:38:47.689  INFO 7836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:38:59.123  INFO 10940 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 10940 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:38:59.129  INFO 10940 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:39:01.054  INFO 10940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:39:01.319  INFO 10940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 250 ms. Found 12 JPA repository interfaces.
2023-08-27 01:39:02.255  INFO 10940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:39:02.266  INFO 10940 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:39:02.267  INFO 10940 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:39:02.452  INFO 10940 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:39:02.453  INFO 10940 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3242 ms
2023-08-27 01:39:02.708  INFO 10940 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:39:02.709  INFO 10940 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:39:02.709  INFO 10940 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:39:02.726  INFO 10940 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:39:02.882  INFO 10940 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:39:02.905  INFO 10940 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:39:02.980  INFO 10940 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.047s)
2023-08-27 01:39:02.998  INFO 10940 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:39:02.998  WARN 10940 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:39:03.000  INFO 10940 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:39:03.241  INFO 10940 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:39:03.333  INFO 10940 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:39:03.878  INFO 10940 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:39:05.025  INFO 10940 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:39:05.040  INFO 10940 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:39:06.886 DEBUG 10940 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:39:07.799  WARN 10940 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:39:09.023  INFO 10940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d695f9d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7daf167, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b3b2290, org.springframework.security.web.header.HeaderWriterFilter@5039c2cf, org.springframework.web.filter.CorsFilter@6df4d8f1, org.springframework.security.web.authentication.logout.LogoutFilter@54cce500, kg.kuban.airport.security.JwtAuthenticationFilter@633c0a61, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@35599228, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@623ed5ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49e92724, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@735b1ad2, org.springframework.security.web.session.SessionManagementFilter@3e984100, org.springframework.security.web.access.ExceptionTranslationFilter@1f27f354, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44ac94c2]
2023-08-27 01:39:09.458  INFO 10940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:39:09.481  INFO 10940 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.182 seconds (JVM running for 12.885)
2023-08-27 01:39:14.490  INFO 10940 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:39:14.654  INFO 10940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:39:14.657  INFO 10940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 01:39:14.728  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:39:14.902  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:39:14.903  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:39:15.132 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:39:15.179 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:39:15.201 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:39:15.230  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:39:15.231  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:39:15.234  INFO 10940 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:39:15.467 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.user_id=? and (exists (select 1 from app_users appuser1_ cross join m2m_user_role approles2_, app_roles approle3_ where userflight0_.user_id=appuser1_.id and appuser1_.id=approles2_.user_id and approles2_.role_id=approle3_.id and approle3_.title=?))
2023-08-27 01:39:15.474 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 01:39:15.482 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 01:39:15.495 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.503 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.512 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.519 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.527 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.534 DEBUG 10940 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:39:15.596 ERROR 10940 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at kg.kuban.airport.mapper.UserFlightMapper.mapUserFlightEntityListToDto(UserFlightMapper.java:49) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController.getCustomersFlightHistory(UserFlightController.java:277) ~[classes/:na]
	at kg.kuban.airport.controller.v1.UserFlightController$$FastClassBySpringCGLIB$$864354f6.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.UserFlightController$$EnhancerBySpringCGLIB$$4857ae66.getCustomersFlightHistory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 01:40:44.904  INFO 10940 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:40:44.908  INFO 10940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 01:40:44.978  INFO 10940 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 01:40:53.926  INFO 6128 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 6128 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 01:40:53.931  INFO 6128 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 01:40:55.811  INFO 6128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 01:40:56.050  INFO 6128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 223 ms. Found 12 JPA repository interfaces.
2023-08-27 01:40:56.985  INFO 6128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 01:40:56.997  INFO 6128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 01:40:56.998  INFO 6128 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 01:40:57.190  INFO 6128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 01:40:57.191  INFO 6128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3178 ms
2023-08-27 01:40:57.428  INFO 6128 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 01:40:57.428  INFO 6128 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 01:40:57.429  INFO 6128 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 01:40:57.445  INFO 6128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 01:40:57.597  INFO 6128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 01:40:57.627  INFO 6128 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 01:40:57.709  INFO 6128 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.047s)
2023-08-27 01:40:57.724  INFO 6128 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 01:40:57.724  WARN 6128 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 01:40:57.725  INFO 6128 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 01:40:57.942  INFO 6128 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 01:40:58.081  INFO 6128 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 01:40:58.581  INFO 6128 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 01:40:59.654  INFO 6128 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 01:40:59.669  INFO 6128 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 01:41:01.343 DEBUG 6128 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 01:41:02.322  WARN 6128 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 01:41:03.627  INFO 6128 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31ecd003, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d3d5242, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a0f4282, org.springframework.security.web.header.HeaderWriterFilter@3fe3ebb3, org.springframework.web.filter.CorsFilter@1a5c0b8, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, kg.kuban.airport.security.JwtAuthenticationFilter@1b881f1f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d827673, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43cf97a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c1ea00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6894436e, org.springframework.security.web.session.SessionManagementFilter@80b6098, org.springframework.security.web.access.ExceptionTranslationFilter@3f1e18b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fe337]
2023-08-27 01:41:04.218  INFO 6128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 01:41:04.237  INFO 6128 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.158 seconds (JVM running for 12.908)
2023-08-27 01:41:07.636  INFO 6128 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 01:41:07.637  INFO 6128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 01:41:07.641  INFO 6128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-08-27 01:41:07.688  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA3ODE3MCwiZXhwIjoxNjkzMTk4MTcwfQ.uwX4wpQCeIk56-46MIFlmI07dGWgtcT4Tbuq6vfmIcebpzqmubrxGKlIl14IEgA9GHmzxhMMtnga28qUOAi9tg
2023-08-27 01:41:07.850  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 01:41:07.851  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 01:41:08.067 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 01:41:08.108 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 01:41:08.131 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 01:41:08.162  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 01:41:08.163  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 01:41:08.166  INFO 6128 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 01:41:08.416 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.user_id=? and (exists (select 1 from app_users appuser1_ cross join m2m_user_role approles2_, app_roles approle3_ where userflight0_.user_id=appuser1_.id and appuser1_.id=approles2_.user_id and approles2_.role_id=approle3_.id and approle3_.title=?))
2023-08-27 01:41:08.423 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 01:41:08.431 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 01:41:08.445 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:41:08.454 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:41:08.462 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:41:08.469 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:41:08.475 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 01:41:08.483 DEBUG 6128 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select seat0_.id as id1_12_0_, seat0_.airplane_id as airplane4_12_0_, seat0_.is_occupied as is_occup2_12_0_, seat0_.seat_number as seat_num3_12_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_ from seats seat0_ left outer join airplanes airplane1_ on seat0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id where seat0_.id=?
2023-08-27 02:52:39.525  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:52:39.528  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:52:39.528  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:52:39.529 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:52:39.535 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:52:39.541 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:52:39.544  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:52:39.544  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:52:39.544  INFO 6128 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 02:52:39.599 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 02:52:39.601 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 02:52:39.605 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 02:52:39.637 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 02:52:39.658 DEBUG 6128 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 02:52:39.668  WARN 6128 --- [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2023-08-27 02:52:39.669 ERROR 6128 --- [http-nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "date_register" violates not-null constraint
  Detail: Failing row contains (1, Первый отзыв клиента, null, null, 34, 4).
2023-08-27 02:52:39.692 ERROR 6128 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [date_register]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause

org.postgresql.util.PSQLException: ERROR: null value in column "date_register" violates not-null constraint
  Detail: Failing row contains (1, Первый отзыв клиента, null, null, 34, 4).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy157.save(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl.registerNewReview(CustomerServiceImpl.java:168) ~[classes/:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$d52420e0.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$9076d9e4.registerNewReview(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController.registerNewReview(CustomerController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController$$FastClassBySpringCGLIB$$1a9b50b9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.CustomerController$$EnhancerBySpringCGLIB$$b91b1a28.registerNewReview(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 02:53:40.532  INFO 6128 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:53:40.590  INFO 6128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 02:53:40.605  INFO 6128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 02:53:51.024  INFO 3476 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 3476 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 02:53:51.031  INFO 3476 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 02:53:52.955  INFO 3476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 02:53:53.234  INFO 3476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 260 ms. Found 12 JPA repository interfaces.
2023-08-27 02:53:54.292  INFO 3476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 02:53:54.303  INFO 3476 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 02:53:54.304  INFO 3476 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 02:53:54.487  INFO 3476 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 02:53:54.488  INFO 3476 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3349 ms
2023-08-27 02:53:54.729  INFO 3476 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 02:53:54.730  INFO 3476 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 02:53:54.730  INFO 3476 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 02:53:54.746  INFO 3476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 02:53:54.896  INFO 3476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 02:53:54.919  INFO 3476 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 02:53:54.994  INFO 3476 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.050s)
2023-08-27 02:53:55.012  INFO 3476 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 02:53:55.015  WARN 3476 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 02:53:55.017  INFO 3476 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 02:53:55.253  INFO 3476 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 02:53:55.337  INFO 3476 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 02:53:55.872  INFO 3476 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 02:53:57.027  INFO 3476 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 02:53:57.044  INFO 3476 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:53:58.572 DEBUG 3476 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 02:53:59.384  WARN 3476 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 02:54:00.335  INFO 3476 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b888692, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6414eb98, org.springframework.security.web.context.SecurityContextPersistenceFilter@80b6098, org.springframework.security.web.header.HeaderWriterFilter@727de450, org.springframework.web.filter.CorsFilter@61a17f3, org.springframework.security.web.authentication.logout.LogoutFilter@38f3dbbf, kg.kuban.airport.security.JwtAuthenticationFilter@1b881f1f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3705a85c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7827cdfc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@352d3749, org.springframework.security.web.session.SessionManagementFilter@2b6ff016, org.springframework.security.web.access.ExceptionTranslationFilter@4ac0fdc7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@793248d]
2023-08-27 02:54:00.737  INFO 3476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 02:54:00.754  INFO 3476 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.578 seconds (JVM running for 12.615)
2023-08-27 02:54:15.446  INFO 3476 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 02:54:15.447  INFO 3476 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 02:54:15.450  INFO 3476 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 02:54:15.495  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:54:15.650  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:54:15.651  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:54:15.866 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:54:15.908 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:54:15.927 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:54:15.952  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:54:15.953  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:54:15.957  INFO 3476 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 02:54:16.189 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 02:54:16.192 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 02:54:16.197 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 02:54:16.271 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 02:54:16.308 DEBUG 3476 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 02:54:16.319  WARN 3476 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2023-08-27 02:54:16.319 ERROR 3476 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "mark" violates not-null constraint
  Detail: Failing row contains (2, Первый отзыв клиента, 2023-08-27 02:54:16.277547, null, 34, 4).
2023-08-27 02:54:16.346 ERROR 3476 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [mark]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause

org.postgresql.util.PSQLException: ERROR: null value in column "mark" violates not-null constraint
  Detail: Failing row contains (2, Первый отзыв клиента, 2023-08-27 02:54:16.277547, null, 34, 4).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy157.save(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl.registerNewReview(CustomerServiceImpl.java:169) ~[classes/:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$d52420e0.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$9076d9e4.registerNewReview(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController.registerNewReview(CustomerController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController$$FastClassBySpringCGLIB$$1a9b50b9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.CustomerController$$EnhancerBySpringCGLIB$$5fce8ad1.registerNewReview(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 02:57:24.854  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:57:24.859  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:57:24.859  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:57:24.863 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:57:24.866 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:57:24.870 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:57:24.872  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:57:24.873  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:57:24.873  INFO 3476 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 02:57:24.878 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 02:57:24.880 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 02:57:24.885 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 02:57:24.897 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 02:57:24.900 DEBUG 3476 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 02:57:24.902  WARN 3476 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2023-08-27 02:57:24.902 ERROR 3476 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "mark" violates not-null constraint
  Detail: Failing row contains (3, Первый отзыв клиента, 2023-08-27 02:57:24.899686, null, 34, 4).
2023-08-27 02:57:24.908 ERROR 3476 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [mark]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause

org.postgresql.util.PSQLException: ERROR: null value in column "mark" violates not-null constraint
  Detail: Failing row contains (3, Первый отзыв клиента, 2023-08-27 02:57:24.899686, null, 34, 4).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy157.save(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl.registerNewReview(CustomerServiceImpl.java:169) ~[classes/:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$d52420e0.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$9076d9e4.registerNewReview(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController.registerNewReview(CustomerController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController$$FastClassBySpringCGLIB$$1a9b50b9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.CustomerController$$EnhancerBySpringCGLIB$$5fce8ad1.registerNewReview(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 02:57:55.530  INFO 3476 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:57:55.533  INFO 3476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 02:57:55.546  INFO 3476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 02:58:07.340  INFO 3096 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 3096 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 02:58:07.347  INFO 3096 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 02:58:09.443  INFO 3096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 02:58:09.745  INFO 3096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 281 ms. Found 12 JPA repository interfaces.
2023-08-27 02:58:10.921  INFO 3096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 02:58:10.936  INFO 3096 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 02:58:10.937  INFO 3096 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 02:58:11.135  INFO 3096 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 02:58:11.135  INFO 3096 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3673 ms
2023-08-27 02:58:11.427  INFO 3096 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 02:58:11.428  INFO 3096 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 02:58:11.428  INFO 3096 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 02:58:11.448  INFO 3096 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 02:58:11.622  INFO 3096 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 02:58:11.658  INFO 3096 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 02:58:11.756  INFO 3096 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.058s)
2023-08-27 02:58:11.769  INFO 3096 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 02:58:11.769  WARN 3096 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 02:58:11.770  INFO 3096 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 02:58:12.034  INFO 3096 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 02:58:12.144  INFO 3096 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 02:58:12.745  INFO 3096 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 02:58:14.180  INFO 3096 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 02:58:14.201  INFO 3096 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:58:16.220 DEBUG 3096 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 02:58:17.290  WARN 3096 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 02:58:18.453  INFO 3096 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4981b83, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4446a191, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a906078, org.springframework.security.web.header.HeaderWriterFilter@7945986a, org.springframework.web.filter.CorsFilter@2ef812b, org.springframework.security.web.authentication.logout.LogoutFilter@151f1734, kg.kuban.airport.security.JwtAuthenticationFilter@639cb0c8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1dc28c66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3724ab90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40ef1934, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e0602ff, org.springframework.security.web.session.SessionManagementFilter@54f62ac6, org.springframework.security.web.access.ExceptionTranslationFilter@3006aef5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63ff861e]
2023-08-27 02:58:19.019  INFO 3096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 02:58:19.039  INFO 3096 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.74 seconds (JVM running for 15.601)
2023-08-27 02:58:24.118  INFO 3096 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 02:58:24.119  INFO 3096 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 02:58:24.123  INFO 3096 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 02:58:24.168  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:58:24.356  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:58:24.357  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:58:24.592 DEBUG 3096 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:58:24.646 DEBUG 3096 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:58:24.666 DEBUG 3096 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:58:24.692  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:58:24.692  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:58:24.697  INFO 3096 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 02:58:39.856  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:58:39.860  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:58:39.860  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:58:39.862 DEBUG 3096 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:58:39.865 DEBUG 3096 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:58:39.937 DEBUG 3096 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:58:39.943  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:58:39.944  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:58:39.944  INFO 3096 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 02:58:49.697  INFO 3096 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:58:49.791  INFO 3096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 02:58:49.910  INFO 3096 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 02:58:57.744  INFO 2812 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 2812 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 02:58:57.750  INFO 2812 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 02:58:59.660  INFO 2812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 02:58:59.938  INFO 2812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 259 ms. Found 12 JPA repository interfaces.
2023-08-27 02:59:00.977  INFO 2812 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 02:59:00.988  INFO 2812 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 02:59:00.988  INFO 2812 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 02:59:01.164  INFO 2812 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 02:59:01.165  INFO 2812 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3331 ms
2023-08-27 02:59:01.455  INFO 2812 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 02:59:01.455  INFO 2812 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 02:59:01.455  INFO 2812 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 02:59:01.473  INFO 2812 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 02:59:01.631  INFO 2812 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 02:59:01.655  INFO 2812 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 02:59:01.729  INFO 2812 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.046s)
2023-08-27 02:59:01.745  INFO 2812 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 02:59:01.745  WARN 2812 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 02:59:01.747  INFO 2812 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 02:59:01.998  INFO 2812 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 02:59:02.094  INFO 2812 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 02:59:02.640  INFO 2812 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 02:59:03.800  INFO 2812 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 02:59:03.815  INFO 2812 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 02:59:05.581 DEBUG 2812 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 02:59:06.551  WARN 2812 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 02:59:07.648  INFO 2812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44ac94c2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19b33b0d, org.springframework.security.web.context.SecurityContextPersistenceFilter@54cce500, org.springframework.security.web.header.HeaderWriterFilter@712213ed, org.springframework.web.filter.CorsFilter@524b1e41, org.springframework.security.web.authentication.logout.LogoutFilter@4a0f4282, kg.kuban.airport.security.JwtAuthenticationFilter@268e30d4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@51ac72f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@229c4d34, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b49b1df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2da8ed80, org.springframework.security.web.session.SessionManagementFilter@217009bd, org.springframework.security.web.access.ExceptionTranslationFilter@744199bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cd7128]
2023-08-27 02:59:08.137  INFO 2812 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 02:59:08.159  INFO 2812 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.288 seconds (JVM running for 13.058)
2023-08-27 02:59:15.297  INFO 2812 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 02:59:15.298  INFO 2812 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 02:59:15.301  INFO 2812 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 02:59:15.325  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 02:59:15.417  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 02:59:15.418  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 02:59:15.586 DEBUG 2812 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 02:59:15.616 DEBUG 2812 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 02:59:15.643 DEBUG 2812 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 02:59:15.665  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 02:59:15.666  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 02:59:15.668  INFO 2812 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:00:46.334  INFO 2812 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:00:46.338  INFO 2812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:00:46.407  INFO 2812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:00:54.554  INFO 12568 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 12568 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:00:54.563  INFO 12568 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:00:56.585  INFO 12568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:00:56.911  INFO 12568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 309 ms. Found 12 JPA repository interfaces.
2023-08-27 03:00:58.023  INFO 12568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:00:58.036  INFO 12568 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:00:58.037  INFO 12568 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:00:58.267  INFO 12568 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:00:58.268  INFO 12568 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3598 ms
2023-08-27 03:00:58.563  INFO 12568 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:00:58.563  INFO 12568 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:00:58.563  INFO 12568 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:00:58.587  INFO 12568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:00:58.791  INFO 12568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:00:58.828  INFO 12568 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:00:58.902  INFO 12568 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.046s)
2023-08-27 03:00:58.919  INFO 12568 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:00:58.920  WARN 12568 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:00:58.921  INFO 12568 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:00:59.196  INFO 12568 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:00:59.345  INFO 12568 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:00:59.924  INFO 12568 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:01:01.428  INFO 12568 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:01:01.446  INFO 12568 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:01:03.570 DEBUG 12568 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:01:04.632  WARN 12568 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:01:05.875  INFO 12568 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c7f8c25, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4110ffe5, org.springframework.security.web.context.SecurityContextPersistenceFilter@11ec2b2f, org.springframework.security.web.header.HeaderWriterFilter@7da9b32c, org.springframework.web.filter.CorsFilter@5e405eaf, org.springframework.security.web.authentication.logout.LogoutFilter@40ef1934, kg.kuban.airport.security.JwtAuthenticationFilter@78e7b83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e284d90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6344004d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7611e295, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4981b83, org.springframework.security.web.session.SessionManagementFilter@733e3c19, org.springframework.security.web.access.ExceptionTranslationFilter@1d0fc0bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a388769]
2023-08-27 03:01:06.420  INFO 12568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:01:06.441  INFO 12568 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.799 seconds (JVM running for 14.925)
2023-08-27 03:01:10.361  INFO 12568 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:01:10.362  INFO 12568 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:01:10.367  INFO 12568 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-08-27 03:01:10.508  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 03:01:10.726  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:01:10.727  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:01:11.010 DEBUG 12568 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:01:11.061 DEBUG 12568 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:01:11.087 DEBUG 12568 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:01:11.120  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:01:11.121  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:01:11.127  INFO 12568 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:01:20.076  INFO 12568 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:01:20.079  INFO 12568 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:01:20.133  INFO 12568 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:01:28.349  INFO 11204 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 11204 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:01:28.357  INFO 11204 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:01:30.510  INFO 11204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:01:30.827  INFO 11204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 297 ms. Found 12 JPA repository interfaces.
2023-08-27 03:01:31.945  INFO 11204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:01:31.960  INFO 11204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:01:31.960  INFO 11204 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:01:32.215  INFO 11204 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:01:32.215  INFO 11204 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3747 ms
2023-08-27 03:01:32.512  INFO 11204 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:01:32.512  INFO 11204 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:01:32.513  INFO 11204 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:01:32.536  INFO 11204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:01:32.733  INFO 11204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:01:32.773  INFO 11204 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:01:32.841  INFO 11204 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.041s)
2023-08-27 03:01:32.859  INFO 11204 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:01:32.860  WARN 11204 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:01:32.862  INFO 11204 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:01:33.142  INFO 11204 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:01:33.268  INFO 11204 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:01:33.919  INFO 11204 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:01:35.336  INFO 11204 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:01:35.355  INFO 11204 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:01:37.513 DEBUG 11204 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:01:38.591  WARN 11204 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:01:39.884  INFO 11204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6eff05e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1002c49e, org.springframework.security.web.context.SecurityContextPersistenceFilter@733e3c19, org.springframework.security.web.header.HeaderWriterFilter@2003edf, org.springframework.web.filter.CorsFilter@62eb918, org.springframework.security.web.authentication.logout.LogoutFilter@4560eb15, kg.kuban.airport.security.JwtAuthenticationFilter@7f9d40b3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33efa7d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22ba30b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22bca04e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21a462ce, org.springframework.security.web.session.SessionManagementFilter@34d26a68, org.springframework.security.web.access.ExceptionTranslationFilter@53b9952f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b8ce72]
2023-08-27 03:01:40.470  INFO 11204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:01:40.490  INFO 11204 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.279 seconds (JVM running for 15.919)
2023-08-27 03:01:43.973  INFO 11204 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:01:43.976  INFO 11204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:01:43.979  INFO 11204 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 03:01:44.027  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA0Mzg0NywiZXhwIjoxNjkzMTYzODQ3fQ.tN2BXtp1cNvPKo7Um-29uw5P05qKUNXzhOH1jdtECkH05n0km8iqQAFX6VjEdJrAoCe3xFZPb1TRQUknvYqXTQ
2023-08-27 03:01:44.206  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:01:44.209  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:01:44.853 DEBUG 11204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:01:45.003 DEBUG 11204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:01:45.081 DEBUG 11204 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:01:45.151  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:01:45.160  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:01:45.163  INFO 11204 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:02:00.431  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.controller.v1.AuthController       : authDto login=CUSTOMER
2023-08-27 03:02:00.432  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.controller.v1.AuthController       : authDto password=CUSTOMER
2023-08-27 03:02:00.433  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.controller.v1.AuthController       : before loginUser
2023-08-27 03:02:00.433  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:02:00.434 DEBUG 11204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:02:00.437 DEBUG 11204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:02:00.441 DEBUG 11204 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:02:00.445  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:02:07.954  INFO 11204 --- [http-nio-8080-exec-4] k.k.a.controller.v1.AuthController       : Token: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:02:08.046  INFO 11204 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:02:08.052  INFO 11204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:02:08.063  INFO 11204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:02:18.003  INFO 2856 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 2856 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:02:18.017  INFO 2856 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:02:20.168  INFO 2856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:02:20.467  INFO 2856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 268 ms. Found 12 JPA repository interfaces.
2023-08-27 03:02:21.816  INFO 2856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:02:21.868  INFO 2856 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:02:21.869  INFO 2856 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:02:22.164  INFO 2856 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:02:22.165  INFO 2856 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4033 ms
2023-08-27 03:02:22.511  INFO 2856 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:02:22.512  INFO 2856 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:02:22.512  INFO 2856 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:02:22.539  INFO 2856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:02:22.826  INFO 2856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:02:22.871  INFO 2856 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:02:22.974  INFO 2856 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.061s)
2023-08-27 03:02:22.989  INFO 2856 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:02:22.990  WARN 2856 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:02:22.991  INFO 2856 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:02:23.289  INFO 2856 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:02:23.441  INFO 2856 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:02:24.154  INFO 2856 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:02:25.600  INFO 2856 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:02:25.616  INFO 2856 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:02:27.603 DEBUG 2856 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:02:28.603  WARN 2856 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:02:29.805  INFO 2856 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10264cb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19877453, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dae9e61, org.springframework.security.web.header.HeaderWriterFilter@4b5ceb5d, org.springframework.web.filter.CorsFilter@49bf5ec8, org.springframework.security.web.authentication.logout.LogoutFilter@fd5c7f6, kg.kuban.airport.security.JwtAuthenticationFilter@35451ba6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@55589ef5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11ec2b2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a70daf4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18174bd9, org.springframework.security.web.session.SessionManagementFilter@436d2bb9, org.springframework.security.web.access.ExceptionTranslationFilter@7bdddfa4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7acf07b2]
2023-08-27 03:02:30.331  INFO 2856 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:02:30.348  INFO 2856 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.18 seconds (JVM running for 15.908)
2023-08-27 03:03:01.362  INFO 2856 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:03:01.364  INFO 2856 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:03:01.366  INFO 2856 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 03:03:01.389  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:03:01.483  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:03:01.484  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:03:01.655 DEBUG 2856 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:03:01.682 DEBUG 2856 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:03:01.694 DEBUG 2856 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:03:01.710  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:03:01.711  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:03:01.712  INFO 2856 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:04:33.615  INFO 2856 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:04:33.618  INFO 2856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:04:33.632  INFO 2856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:04:45.337  INFO 13920 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 13920 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:04:45.345  INFO 13920 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:04:47.539  INFO 13920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:04:47.851  INFO 13920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 287 ms. Found 12 JPA repository interfaces.
2023-08-27 03:04:48.971  INFO 13920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:04:48.984  INFO 13920 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:04:48.985  INFO 13920 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:04:49.223  INFO 13920 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:04:49.224  INFO 13920 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3768 ms
2023-08-27 03:04:49.484  INFO 13920 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:04:49.484  INFO 13920 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:04:49.485  INFO 13920 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:04:49.506  INFO 13920 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:04:49.711  INFO 13920 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:04:49.746  INFO 13920 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:04:49.818  INFO 13920 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.040s)
2023-08-27 03:04:49.835  INFO 13920 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:04:49.835  WARN 13920 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:04:49.836  INFO 13920 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:04:50.115  INFO 13920 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:04:50.228  INFO 13920 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:04:50.835  INFO 13920 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:04:52.459  INFO 13920 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:04:52.480  INFO 13920 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:04:54.558 DEBUG 13920 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:04:55.659  WARN 13920 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:04:57.092  INFO 13920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d8cece4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55d98bbb, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e12fdcf, org.springframework.security.web.header.HeaderWriterFilter@55a07f97, org.springframework.web.filter.CorsFilter@2e9f5499, org.springframework.security.web.authentication.logout.LogoutFilter@a70daf4, kg.kuban.airport.security.JwtAuthenticationFilter@2a7392a3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@43d2c8e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2003edf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1735e1c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30f54522, org.springframework.security.web.session.SessionManagementFilter@765eb801, org.springframework.security.web.access.ExceptionTranslationFilter@62c1259f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@673e1cf2]
2023-08-27 03:04:57.702  INFO 13920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:04:57.722  INFO 13920 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 13.486 seconds (JVM running for 15.928)
2023-08-27 03:05:06.368  INFO 13920 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:05:06.371  INFO 13920 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:05:06.373  INFO 13920 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 03:05:06.410  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:05:06.525  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:05:06.525  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:05:06.693 DEBUG 13920 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:05:06.725 DEBUG 13920 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:05:06.740 DEBUG 13920 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:05:06.758  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:05:06.759  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:05:06.761  INFO 13920 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:05:48.623  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:05:48.625  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:05:48.625  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:05:48.626 DEBUG 13920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:05:48.628 DEBUG 13920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:05:48.632 DEBUG 13920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:05:48.634  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:05:48.634  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:05:48.635  INFO 13920 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:06:13.492  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:06:13.494  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:06:13.494  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:06:13.495 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:06:13.497 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:06:13.500 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:06:13.503  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:06:13.503  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:06:13.503  INFO 13920 --- [http-nio-8080-exec-5] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:06:18.635 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:06:18.640 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:06:18.649 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:06:18.700 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:06:18.786 DEBUG 13920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:06:19.295  INFO 13920 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:06:19.300  INFO 13920 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:06:19.314  INFO 13920 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:06:25.395  INFO 10580 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 10580 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:06:25.400  INFO 10580 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:06:27.285  INFO 10580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:06:27.566  INFO 10580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 264 ms. Found 12 JPA repository interfaces.
2023-08-27 03:06:28.445  INFO 10580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:06:28.456  INFO 10580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:06:28.457  INFO 10580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:06:28.640  INFO 10580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:06:28.640  INFO 10580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3160 ms
2023-08-27 03:06:28.866  INFO 10580 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:06:28.866  INFO 10580 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:06:28.867  INFO 10580 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:06:28.882  INFO 10580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:06:29.034  INFO 10580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:06:29.059  INFO 10580 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:06:29.134  INFO 10580 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.048s)
2023-08-27 03:06:29.153  INFO 10580 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:06:29.154  WARN 10580 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:06:29.155  INFO 10580 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:06:29.372  INFO 10580 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:06:29.466  INFO 10580 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:06:29.982  INFO 10580 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:06:31.181  INFO 10580 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:06:31.196  INFO 10580 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:06:33.039 DEBUG 10580 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:06:34.008  WARN 10580 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:06:36.269  INFO 10580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2cdcedef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43778d6d, org.springframework.security.web.context.SecurityContextPersistenceFilter@744199bb, org.springframework.security.web.header.HeaderWriterFilter@21539796, org.springframework.web.filter.CorsFilter@44ac94c2, org.springframework.security.web.authentication.logout.LogoutFilter@3f1e18b1, kg.kuban.airport.security.JwtAuthenticationFilter@22d47f09, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7d28efd5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6413eeb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@956cf3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b33b0d, org.springframework.security.web.session.SessionManagementFilter@47fbf95e, org.springframework.security.web.access.ExceptionTranslationFilter@206e5183, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@511ad0dd]
2023-08-27 03:06:37.229  INFO 10580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:06:37.256  INFO 10580 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 12.675 seconds (JVM running for 14.324)
2023-08-27 03:06:38.435  INFO 10580 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:06:38.436  INFO 10580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:06:38.439  INFO 10580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 03:06:38.473  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:06:38.573  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:06:38.573  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:06:38.723 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:06:38.749 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:06:38.761 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:06:38.778  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:06:38.779  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:06:38.782  INFO 10580 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:06:38.937 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:06:38.942 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:06:38.950 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:06:38.999 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:06:39.037 DEBUG 10580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:10:56.473  INFO 10580 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:10:56.477  INFO 10580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:10:56.508  INFO 10580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:11:05.505  INFO 4156 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 4156 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:11:05.511  INFO 4156 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:11:07.515  INFO 4156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:11:07.814  INFO 4156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 280 ms. Found 12 JPA repository interfaces.
2023-08-27 03:11:08.906  INFO 4156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:11:08.916  INFO 4156 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:11:08.917  INFO 4156 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:11:09.096  INFO 4156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:11:09.097  INFO 4156 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3430 ms
2023-08-27 03:11:09.360  INFO 4156 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:11:09.361  INFO 4156 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:11:09.361  INFO 4156 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:11:09.376  INFO 4156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:11:09.531  INFO 4156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:11:09.557  INFO 4156 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:11:09.636  INFO 4156 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.049s)
2023-08-27 03:11:09.659  INFO 4156 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:11:09.660  WARN 4156 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:11:09.662  INFO 4156 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:11:09.887  INFO 4156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:11:09.972  INFO 4156 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:11:10.445  INFO 4156 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:11:11.613  INFO 4156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:11:11.633  INFO 4156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:11:13.341 DEBUG 4156 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:11:14.224  WARN 4156 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:11:15.298  INFO 4156 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6731b6bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@768f2398, org.springframework.security.web.context.SecurityContextPersistenceFilter@6de4071b, org.springframework.security.web.header.HeaderWriterFilter@29ddaa8e, org.springframework.web.filter.CorsFilter@1f4fa465, org.springframework.security.web.authentication.logout.LogoutFilter@5cb32140, kg.kuban.airport.security.JwtAuthenticationFilter@51efdb72, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6e0dec27, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fe3ebb3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a1d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e65c4d, org.springframework.security.web.session.SessionManagementFilter@689ea211, org.springframework.security.web.access.ExceptionTranslationFilter@68ea1eb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51eeae0a]
2023-08-27 03:11:15.719  INFO 4156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:11:15.738  INFO 4156 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.352 seconds (JVM running for 13.009)
2023-08-27 03:11:25.433  INFO 4156 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:11:25.434  INFO 4156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:11:25.437  INFO 4156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-08-27 03:11:25.461  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:11:25.554  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:11:25.554  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:11:25.687 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:11:25.722 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:11:25.734 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:11:25.750  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:11:25.750  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:11:25.754  INFO 4156 --- [http-nio-8080-exec-1] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:11:25.896 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:11:25.899 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:11:25.907 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:11:25.950 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:11:25.988 DEBUG 4156 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:11:46.895  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:11:46.898  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:11:46.898  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:11:46.899 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:11:46.901 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:11:46.904 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:11:46.906  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:11:46.906  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:11:46.907  INFO 4156 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:11:46.912 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:11:46.913 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:11:46.917 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:11:46.926 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:11:46.928 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:12:33.701  INFO 4156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:12:33.705  INFO 4156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:12:33.719  INFO 4156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:12:39.555  INFO 8756 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 8756 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:12:39.561  INFO 8756 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:12:41.227  INFO 8756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:12:41.459  INFO 8756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 215 ms. Found 12 JPA repository interfaces.
2023-08-27 03:12:42.212  INFO 8756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:12:42.222  INFO 8756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:12:42.222  INFO 8756 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:12:42.422  INFO 8756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:12:42.423  INFO 8756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2777 ms
2023-08-27 03:12:42.663  INFO 8756 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:12:42.663  INFO 8756 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:12:42.664  INFO 8756 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:12:42.681  INFO 8756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:12:42.835  INFO 8756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:12:42.858  INFO 8756 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:12:42.931  INFO 8756 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.044s)
2023-08-27 03:12:42.947  INFO 8756 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:12:42.948  WARN 8756 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:12:42.950  INFO 8756 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:12:43.207  INFO 8756 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:12:43.297  INFO 8756 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:12:43.724  INFO 8756 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:12:44.864  INFO 8756 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:12:44.878  INFO 8756 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:12:46.474 DEBUG 8756 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:12:47.483  WARN 8756 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:12:49.613  INFO 8756 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55589ef5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23a9400c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6de4071b, org.springframework.security.web.header.HeaderWriterFilter@29ddaa8e, org.springframework.web.filter.CorsFilter@793248d, org.springframework.security.web.authentication.logout.LogoutFilter@5cb32140, kg.kuban.airport.security.JwtAuthenticationFilter@51efdb72, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1188e08b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fe3ebb3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a1d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6731b6bd, org.springframework.security.web.session.SessionManagementFilter@689ea211, org.springframework.security.web.access.ExceptionTranslationFilter@68ea1eb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2af1bf5a]
2023-08-27 03:12:50.001  INFO 8756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:12:50.017  INFO 8756 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.254 seconds (JVM running for 12.796)
2023-08-27 03:15:03.165  INFO 8756 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:15:03.166  INFO 8756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:15:03.170  INFO 8756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2023-08-27 03:15:03.193  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:15:03.310  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:15:03.310  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:15:03.446 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:15:03.471 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:15:03.483 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:15:03.498  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:15:03.498  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:15:03.500  INFO 8756 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:15:03.637 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:15:03.640 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:15:03.645 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:15:03.690 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:15:03.744 DEBUG 8756 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:15:03.758  WARN 8756 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23514
2023-08-27 03:15:03.758 ERROR 8756 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: new row for relation "customer_reviews" violates check constraint "customer_reviews_mark_check"
  Detail: Failing row contains (8, Первый отзыв клиента, 2023-08-27 03:15:03.698912, 0, 34, 4).
2023-08-27 03:15:03.783 ERROR 8756 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [customer_reviews_mark_check]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause

org.postgresql.util.PSQLException: ERROR: new row for relation "customer_reviews" violates check constraint "customer_reviews_mark_check"
  Detail: Failing row contains (8, Первый отзыв клиента, 2023-08-27 03:15:03.698912, 0, 34, 4).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167) ~[postgresql-42.3.8.jar:42.3.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-42.3.8.jar:42.3.8]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315) ~[spring-orm-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy127.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.11.jar:2.7.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar:5.3.27]
	at com.sun.proxy.$Proxy157.save(Unknown Source) ~[na:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl.registerNewReview(CustomerServiceImpl.java:174) ~[classes/:na]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$d52420e0.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$af3c13a6.registerNewReview(<generated>) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController.registerNewReview(CustomerController.java:87) ~[classes/:na]
	at kg.kuban.airport.controller.v1.CustomerController$$FastClassBySpringCGLIB$$1a9b50b9.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.7.8.jar:5.7.8]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.27.jar:5.3.27]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.27.jar:5.3.27]
	at kg.kuban.airport.controller.v1.CustomerController$$EnhancerBySpringCGLIB$$a038431d.registerNewReview(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.27.jar:5.3.27]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.74.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at kg.kuban.airport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.8.jar:5.7.8]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.27.jar:5.3.27]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.27.jar:5.3.27]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

2023-08-27 03:16:51.437  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:16:51.440  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:16:51.441  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:16:51.442 DEBUG 8756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:16:51.446 DEBUG 8756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:16:51.450 DEBUG 8756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:16:51.454  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:16:51.455  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:16:51.455  INFO 8756 --- [http-nio-8080-exec-4] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:16:56.822  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:16:56.825  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:16:56.825  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:16:56.826 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:16:56.828 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:16:56.831 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:16:56.833  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:16:56.834  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:16:56.834  INFO 8756 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:16:56.839 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:16:56.839 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:16:56.843 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:16:56.849 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:16:56.851 DEBUG 8756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:20:36.277  INFO 8756 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:20:36.282  INFO 8756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:20:36.295  INFO 8756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:20:44.033  INFO 8012 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 8012 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:20:44.038  INFO 8012 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:20:45.668  INFO 8012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:20:45.930  INFO 8012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 12 JPA repository interfaces.
2023-08-27 03:20:46.737  INFO 8012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:20:46.748  INFO 8012 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:20:46.749  INFO 8012 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:20:46.948  INFO 8012 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:20:46.949  INFO 8012 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2837 ms
2023-08-27 03:20:47.216  INFO 8012 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:20:47.216  INFO 8012 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:20:47.216  INFO 8012 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:20:47.236  INFO 8012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:20:47.401  INFO 8012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:20:47.434  INFO 8012 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:20:47.530 ERROR 8012 --- [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\Сourses\Java\Airport\target\classes\kg\kuban\airport\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appUserDetailsServiceImpl' defined in file [D:\Сourses\Java\Airport\target\classes\kg\kuban\airport\service\impl\AppUserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in kg.kuban.airport.repository.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#5a058be5' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5a058be5': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2023-08-27 03:20:47.569  INFO 8012 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-08-27 03:20:47.575  WARN 8012 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-08-27 03:20:47.577  WARN 8012 --- [main] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.18/java.net.SocketInputStream.socketRead0(Native Method)
 java.base@11.0.18/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)
 java.base@11.0.18/java.net.SocketInputStream.read(SocketInputStream.java:168)
 java.base@11.0.18/java.net.SocketInputStream.read(SocketInputStream.java:140)
 app//org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 app//org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 app//org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 app//org.postgresql.core.PGStream.receiveChar(PGStream.java:453)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:542)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168)
 app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
 app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
 app//org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:223)
 app//org.postgresql.Driver.makeConnection(Driver.java:402)
 app//org.postgresql.Driver.connect(Driver.java:261)
 app//com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 app//com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
 app//com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
 app//com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
 app//com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)
 app//com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base@11.0.18/java.util.concurrent.FutureTask.run(FutureTask.java:264)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
 java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.18/java.lang.Thread.run(Thread.java:829)
2023-08-27 03:20:47.581  WARN 8012 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2023-08-27 03:20:47.582  INFO 8012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:20:47.598  INFO 8012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:20:47.617  INFO 8012 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-08-27 03:20:47.670 ERROR 8012 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.27.jar:5.3.27]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]
	at kg.kuban.airport.AirportApplication.main(AirportApplication.java:10) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.11.jar:2.7.11]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [D:\Сourses\Java\Airport\target\classes\kg\kuban\airport\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appUserDetailsServiceImpl' defined in file [D:\Сourses\Java\Airport\target\classes\kg\kuban\airport\service\impl\AppUserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in kg.kuban.airport.repository.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#5a058be5' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5a058be5': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:171) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:156) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.11.jar:2.7.11]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4936) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.74.jar:9.0.74]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.11.jar:2.7.11]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appUserDetailsServiceImpl' defined in file [D:\Сourses\Java\Airport\target\classes\kg\kuban\airport\service\impl\AppUserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in kg.kuban.airport.repository.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#5a058be5' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5a058be5': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.27.jar:5.3.27]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in kg.kuban.airport.repository.AppUserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#5a058be5' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5a058be5': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.27.jar:5.3.27]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5a058be5': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374) ~[spring-beans-5.3.27.jar:5.3.27]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.27.jar:5.3.27]
	... 90 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.1687370818
-> Applied to database : -782170589
-> Resolved locally    : -1575238969
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:130) ~[flyway-core-8.5.13.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-8.5.13.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]
	... 99 common frames omitted

2023-08-27 03:21:08.712  INFO 10360 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 10360 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:21:08.717  INFO 10360 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:21:10.563  INFO 10360 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:21:10.834  INFO 10360 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 12 JPA repository interfaces.
2023-08-27 03:21:11.898  INFO 10360 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:21:11.909  INFO 10360 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:21:11.909  INFO 10360 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:21:12.109  INFO 10360 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:21:12.110  INFO 10360 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3312 ms
2023-08-27 03:21:12.374  INFO 10360 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:21:12.374  INFO 10360 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:21:12.374  INFO 10360 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:21:12.391  INFO 10360 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:21:12.569  INFO 10360 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:21:12.600  INFO 10360 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:21:12.663  INFO 10360 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.034s)
2023-08-27 03:21:12.678  INFO 10360 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
2023-08-27 03:21:12.679  WARN 10360 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:21:12.730  INFO 10360 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1.1687370818 - create schema airport"
2023-08-27 03:21:12.753  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: schema "airport" already exists, skipping (SQL State: 42P06 - Error Code: 0)
2023-08-27 03:21:12.755  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "positions" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.756  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "app_roles" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.757  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "app_users" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.758  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "aircompanies" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.760  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "airports" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.762  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "airplanes" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.763  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "flights" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.765  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "seats" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.767  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "users_flights" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.769  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "parts" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.770  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "part_inspections" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.772  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "m2m_airplanes_parts" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.773  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "m2m_user_role" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.775  WARN 10360 --- [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "customer_reviews" already exists, skipping (SQL State: 42P07 - Error Code: 0)
2023-08-27 03:21:12.798  INFO 10360 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1.1688899490 - insert users"
2023-08-27 03:21:12.825  INFO 10360 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1.1691442505 - insert spr"
2023-08-27 03:21:12.844  INFO 10360 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 3 migrations to schema "public", now at version v1.1691442505 (execution time 00:00.174s)
2023-08-27 03:21:13.115  INFO 10360 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:21:13.235  INFO 10360 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:21:13.718  INFO 10360 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:21:14.820  INFO 10360 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:21:14.836  INFO 10360 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:21:16.538 DEBUG 10360 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:21:17.397  WARN 10360 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:21:18.481  INFO 10360 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ef812b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e0602ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@397bd46b, org.springframework.security.web.header.HeaderWriterFilter@11ec2b2f, org.springframework.web.filter.CorsFilter@1a865ebf, org.springframework.security.web.authentication.logout.LogoutFilter@5b4880b3, kg.kuban.airport.security.JwtAuthenticationFilter@6fe337a5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6894436e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76ebd595, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4560eb15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b3d3e57, org.springframework.security.web.session.SessionManagementFilter@79080255, org.springframework.security.web.access.ExceptionTranslationFilter@4144d4a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c7f8c25]
2023-08-27 03:21:18.937  INFO 10360 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:21:18.956  INFO 10360 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 11.08 seconds (JVM running for 13.182)
2023-08-27 03:21:31.416  INFO 10360 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-27 03:21:31.417  INFO 10360 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-27 03:21:31.419  INFO 10360 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-08-27 03:21:31.444  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:21:31.532  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:21:31.533  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:21:31.661 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:21:31.692 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:21:31.702 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:21:31.719  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:21:31.719  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:21:31.722  INFO 10360 --- [http-nio-8080-exec-3] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:21:31.863 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:21:31.867 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:21:31.874 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:21:31.923 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:21:31.960 DEBUG 10360 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:21:42.915  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:21:42.919  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:21:42.919  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:21:42.921 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:21:42.924 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:21:42.929 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:21:42.931  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:21:42.931  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:21:42.932  INFO 10360 --- [http-nio-8080-exec-2] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:21:42.935 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:21:42.937 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:21:42.943 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:21:42.951 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:21:42.953 DEBUG 10360 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:22:52.256  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : token = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJDVVNUT01FUiIsImlhdCI6MTY5MzA4MzcyNywiZXhwIjoxNjkzMjAzNzI3fQ.JTHu9x63b1CeDOsksVI1IgAz6poWxO1d2bmtZq_NMKQBCAytgRpSa4AD2bZyeOD_SlCpIse-MyUgzIKgq1SVfw
2023-08-27 03:22:52.258  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal username =CUSTOMER
2023-08-27 03:22:52.259  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : loadUserByUsername username=CUSTOMER
2023-08-27 03:22:52.260 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select appuser0_.id as id1_4_, appuser0_.date_begin as date_beg2_4_, appuser0_.date_ending as date_end3_4_, appuser0_.full_name as full_nam4_4_, appuser0_.is_enabled as is_enabl5_4_, appuser0_.position_id as position8_4_, appuser0_.user_login as user_log6_4_, appuser0_.user_password as user_pas7_4_ from app_users appuser0_ where appuser0_.user_login=?
2023-08-27 03:22:52.263 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select airplane0_.id as id1_1_5_, airplane0_.aircompany as aircompa7_1_5_, airplane0_.board_number as board_nu2_1_5_, airplane0_.date_register as date_reg3_1_5_, airplane0_.marka as marka4_1_5_, airplane0_.number_seats as number_s5_1_5_, airplane0_.user_id as user_id8_1_5_, airplane0_.status as status6_1_5_, aircompany1_.id as id1_0_0_, aircompany1_.title as title2_0_0_, appuser2_.id as id1_4_1_, appuser2_.date_begin as date_beg2_4_1_, appuser2_.date_ending as date_end3_4_1_, appuser2_.full_name as full_nam4_4_1_, appuser2_.is_enabled as is_enabl5_4_1_, appuser2_.position_id as position8_4_1_, appuser2_.user_login as user_log6_4_1_, appuser2_.user_password as user_pas7_4_1_, approles3_.user_id as user_id1_8_7_, approle4_.id as role_id2_8_7_, approle4_.id as id1_3_2_, approle4_.position_id as position3_3_2_, approle4_.title as title2_3_2_, position5_.id as id1_11_3_, position5_.title as title2_11_3_, position6_.id as id1_11_4_, position6_.title as title2_11_4_ from airplanes airplane0_ left outer join aircompanies aircompany1_ on airplane0_.aircompany=aircompany1_.id left outer join app_users appuser2_ on airplane0_.user_id=appuser2_.id left outer join m2m_user_role approles3_ on appuser2_.id=approles3_.user_id left outer join app_roles approle4_ on approles3_.role_id=approle4_.id left outer join positions position5_ on approle4_.position_id=position5_.id left outer join positions position6_ on appuser2_.position_id=position6_.id where airplane0_.user_id=?
2023-08-27 03:22:52.267 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select approles0_.user_id as user_id1_8_0_, approles0_.role_id as role_id2_8_0_, approle1_.id as id1_3_1_, approle1_.position_id as position3_3_1_, approle1_.title as title2_3_1_, position2_.id as id1_11_2_, position2_.title as title2_11_2_ from m2m_user_role approles0_ inner join app_roles approle1_ on approles0_.role_id=approle1_.id left outer join positions position2_ on approle1_.position_id=position2_.id where approles0_.user_id=?
2023-08-27 03:22:52.270  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.s.impl.AppUserDetailsServiceImpl   : CUSTOMER
2023-08-27 03:22:52.270  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal user =CUSTOMER
2023-08-27 03:22:52.270  INFO 10360 --- [http-nio-8080-exec-6] k.k.a.security.JwtAuthenticationFilter   : doFilterInternal authToken=CUSTOMER
2023-08-27 03:22:52.273 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select userflight0_.id as id1_13_, userflight0_.user_id as user_id4_13_, userflight0_.date_register as date_reg2_13_, userflight0_.flight_id as flight_i5_13_, userflight0_.seat_id as seat_id6_13_, userflight0_.status as status3_13_ from users_flights userflight0_ where userflight0_.id=?
2023-08-27 03:22:52.274 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select appuser0_.id as id1_4_0_, appuser0_.date_begin as date_beg2_4_0_, appuser0_.date_ending as date_end3_4_0_, appuser0_.full_name as full_nam4_4_0_, appuser0_.is_enabled as is_enabl5_4_0_, appuser0_.position_id as position8_4_0_, appuser0_.user_login as user_log6_4_0_, appuser0_.user_password as user_pas7_4_0_, approles1_.user_id as user_id1_8_1_, approle2_.id as role_id2_8_1_, approle2_.id as id1_3_2_, approle2_.position_id as position3_3_2_, approle2_.title as title2_3_2_, position3_.id as id1_11_3_, position3_.title as title2_11_3_, position4_.id as id1_11_4_, position4_.title as title2_11_4_, airplane5_.id as id1_1_5_, airplane5_.aircompany as aircompa7_1_5_, airplane5_.board_number as board_nu2_1_5_, airplane5_.date_register as date_reg3_1_5_, airplane5_.marka as marka4_1_5_, airplane5_.number_seats as number_s5_1_5_, airplane5_.user_id as user_id8_1_5_, airplane5_.status as status6_1_5_, aircompany6_.id as id1_0_6_, aircompany6_.title as title2_0_6_ from app_users appuser0_ left outer join m2m_user_role approles1_ on appuser0_.id=approles1_.user_id left outer join app_roles approle2_ on approles1_.role_id=approle2_.id left outer join positions position3_ on approle2_.position_id=position3_.id left outer join positions position4_ on appuser0_.position_id=position4_.id left outer join airplanes airplane5_ on appuser0_.id=airplane5_.user_id left outer join aircompanies aircompany6_ on airplane5_.aircompany=aircompany6_.id where appuser0_.id=?
2023-08-27 03:22:52.280 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_0_, flight0_.airplane_id as airplane7_6_0_, flight0_.date_register as date_reg2_6_0_, flight0_.destination as destinat8_6_0_, flight0_.flight_number as flight_n3_6_0_, flight0_.is_available as is_avail4_6_0_, flight0_.status as status5_6_0_, flight0_.tickets_left as tickets_6_6_0_, airplane1_.id as id1_1_1_, airplane1_.aircompany as aircompa7_1_1_, airplane1_.board_number as board_nu2_1_1_, airplane1_.date_register as date_reg3_1_1_, airplane1_.marka as marka4_1_1_, airplane1_.number_seats as number_s5_1_1_, airplane1_.user_id as user_id8_1_1_, airplane1_.status as status6_1_1_, aircompany2_.id as id1_0_2_, aircompany2_.title as title2_0_2_, appuser3_.id as id1_4_3_, appuser3_.date_begin as date_beg2_4_3_, appuser3_.date_ending as date_end3_4_3_, appuser3_.full_name as full_nam4_4_3_, appuser3_.is_enabled as is_enabl5_4_3_, appuser3_.position_id as position8_4_3_, appuser3_.user_login as user_log6_4_3_, appuser3_.user_password as user_pas7_4_3_, approles4_.user_id as user_id1_8_4_, approle5_.id as role_id2_8_4_, approle5_.id as id1_3_5_, approle5_.position_id as position3_3_5_, approle5_.title as title2_3_5_, position6_.id as id1_11_6_, position6_.title as title2_11_6_, position7_.id as id1_11_7_, position7_.title as title2_11_7_, airport8_.id as id1_2_8_, airport8_.city as city2_2_8_, airport8_.title as title3_2_8_ from flights flight0_ left outer join airplanes airplane1_ on flight0_.airplane_id=airplane1_.id left outer join aircompanies aircompany2_ on airplane1_.aircompany=aircompany2_.id left outer join app_users appuser3_ on airplane1_.user_id=appuser3_.id left outer join m2m_user_role approles4_ on appuser3_.id=approles4_.user_id left outer join app_roles approle5_ on approles4_.role_id=approle5_.id left outer join positions position6_ on approle5_.position_id=position6_.id left outer join positions position7_ on appuser3_.position_id=position7_.id left outer join airports airport8_ on flight0_.destination=airport8_.id where flight0_.id=?
2023-08-27 03:22:52.286 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select flight0_.id as id1_6_, flight0_.airplane_id as airplane7_6_, flight0_.date_register as date_reg2_6_, flight0_.destination as destinat8_6_, flight0_.flight_number as flight_n3_6_, flight0_.is_available as is_avail4_6_, flight0_.status as status5_6_, flight0_.tickets_left as tickets_6_6_ from flights flight0_ where flight0_.id=?
2023-08-27 03:22:52.288 DEBUG 10360 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into customer_reviews (user_id, date_register, flight_id, mark, review) values (?, ?, ?, ?, ?)
2023-08-27 03:28:00.948  INFO 10360 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:28:00.951  INFO 10360 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:28:01.023  INFO 10360 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:28:10.013  INFO 1892 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 1892 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:28:10.019  INFO 1892 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:28:11.888  INFO 1892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:28:12.145  INFO 1892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 12 JPA repository interfaces.
2023-08-27 03:28:13.028  INFO 1892 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:28:13.038  INFO 1892 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:28:13.039  INFO 1892 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:28:13.215  INFO 1892 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:28:13.216  INFO 1892 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3113 ms
2023-08-27 03:28:13.455  INFO 1892 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:28:13.455  INFO 1892 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:28:13.456  INFO 1892 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:28:13.472  INFO 1892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:28:13.625  INFO 1892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:28:13.648  INFO 1892 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:28:13.723  INFO 1892 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.047s)
2023-08-27 03:28:13.738  INFO 1892 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:28:13.739  WARN 1892 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:28:13.740  INFO 1892 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:28:13.975  INFO 1892 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:28:14.058  INFO 1892 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:28:14.563  INFO 1892 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:28:15.623  INFO 1892 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:28:15.638  INFO 1892 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:28:17.310 DEBUG 1892 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:28:18.281  WARN 1892 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:28:19.408  INFO 1892 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d0697da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b99f2ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@3458be63, org.springframework.security.web.header.HeaderWriterFilter@99f75e4, org.springframework.web.filter.CorsFilter@723081a2, org.springframework.security.web.authentication.logout.LogoutFilter@7e5c8c80, kg.kuban.airport.security.JwtAuthenticationFilter@eb6ccbc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1146e32e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cb32140, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@139b3a29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@481f698f, org.springframework.security.web.session.SessionManagementFilter@64e247e, org.springframework.security.web.access.ExceptionTranslationFilter@470866d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@352d3749]
2023-08-27 03:28:19.835  INFO 1892 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:28:19.853  INFO 1892 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.649 seconds (JVM running for 12.442)
2023-08-27 03:29:52.833  INFO 1892 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:29:52.837  INFO 1892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:29:52.850  INFO 1892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:30:02.251  INFO 1388 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 1388 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:30:02.255  INFO 1388 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:30:04.032  INFO 1388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:30:04.295  INFO 1388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 248 ms. Found 12 JPA repository interfaces.
2023-08-27 03:30:05.243  INFO 1388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:30:05.274  INFO 1388 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:30:05.275  INFO 1388 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:30:05.465  INFO 1388 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:30:05.465  INFO 1388 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3135 ms
2023-08-27 03:30:05.708  INFO 1388 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:30:05.709  INFO 1388 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:30:05.709  INFO 1388 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:30:05.726  INFO 1388 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:30:05.881  INFO 1388 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:30:05.906  INFO 1388 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:30:05.981  INFO 1388 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.046s)
2023-08-27 03:30:06.000  INFO 1388 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:30:06.001  WARN 1388 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:30:06.002  INFO 1388 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:30:06.255  INFO 1388 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:30:06.373  INFO 1388 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:30:06.875  INFO 1388 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:30:07.968  INFO 1388 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:30:07.982  INFO 1388 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:30:09.719 DEBUG 1388 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:30:10.583  WARN 1388 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:30:11.657  INFO 1388 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@481f698f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41ae9f11, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@571903ff, org.springframework.web.filter.CorsFilter@45a40353, org.springframework.security.web.authentication.logout.LogoutFilter@3ad9fea, kg.kuban.airport.security.JwtAuthenticationFilter@5dff108c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@25af1dbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80b6098, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33efa7d4, org.springframework.security.web.session.SessionManagementFilter@118c1faa, org.springframework.security.web.access.ExceptionTranslationFilter@689eab53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fc6cac6]
2023-08-27 03:30:12.061  INFO 1388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:30:12.078  INFO 1388 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.593 seconds (JVM running for 12.085)
2023-08-27 03:32:40.451  INFO 1388 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:32:40.454  INFO 1388 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:32:40.578  INFO 1388 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:32:50.250  INFO 6600 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 6600 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:32:50.256  INFO 6600 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:32:52.163  INFO 6600 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:32:52.434  INFO 6600 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 12 JPA repository interfaces.
2023-08-27 03:32:53.393  INFO 6600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:32:53.404  INFO 6600 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:32:53.405  INFO 6600 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:32:53.595  INFO 6600 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:32:53.595  INFO 6600 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3258 ms
2023-08-27 03:32:53.831  INFO 6600 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:32:53.832  INFO 6600 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:32:53.832  INFO 6600 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:32:53.849  INFO 6600 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:32:54.035  INFO 6600 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:32:54.069  INFO 6600 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:32:54.134  INFO 6600 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.037s)
2023-08-27 03:32:54.151  INFO 6600 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:32:54.152  WARN 6600 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:32:54.153  INFO 6600 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:32:54.389  INFO 6600 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:32:54.515  INFO 6600 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:32:55.023  INFO 6600 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:32:56.100  INFO 6600 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:32:56.115  INFO 6600 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:32:57.793 DEBUG 6600 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:32:58.690  WARN 6600 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:32:59.723  INFO 6600 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f70d78c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@456c53a, org.springframework.security.web.context.SecurityContextPersistenceFilter@229c4d34, org.springframework.security.web.header.HeaderWriterFilter@2305aad0, org.springframework.web.filter.CorsFilter@7916568d, org.springframework.security.web.authentication.logout.LogoutFilter@43cf97a8, kg.kuban.airport.security.JwtAuthenticationFilter@7c50709a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@69ee0861, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@689eab53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c24639e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58fadccb, org.springframework.security.web.session.SessionManagementFilter@248ba4fc, org.springframework.security.web.access.ExceptionTranslationFilter@6413eeb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7daf167]
2023-08-27 03:33:00.163  INFO 6600 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:33:00.181  INFO 6600 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.78 seconds (JVM running for 12.462)
2023-08-27 03:39:35.561  INFO 6600 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:39:35.777  INFO 6600 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:39:36.186  INFO 6600 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-08-27 03:47:54.237  INFO 6464 --- [main] kg.kuban.airport.AirportApplication      : Starting AirportApplication using Java 11.0.18 on DESKTOP-BPTJB0E with PID 6464 (D:\Сourses\Java\Airport\target\classes started by Admin in D:\Сourses\Java\Airport)
2023-08-27 03:47:54.247  INFO 6464 --- [main] kg.kuban.airport.AirportApplication      : No active profile set, falling back to 1 default profile: "default"
2023-08-27 03:47:56.105  INFO 6464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-27 03:47:56.393  INFO 6464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 271 ms. Found 12 JPA repository interfaces.
2023-08-27 03:47:57.319  INFO 6464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-08-27 03:47:57.330  INFO 6464 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-08-27 03:47:57.331  INFO 6464 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.74]
2023-08-27 03:47:57.507  INFO 6464 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-27 03:47:57.507  INFO 6464 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3172 ms
2023-08-27 03:47:57.776  INFO 6464 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-08-27 03:47:57.777  INFO 6464 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-08-27 03:47:57.777  INFO 6464 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-08-27 03:47:57.793  INFO 6464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-27 03:47:57.940  INFO 6464 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-27 03:47:57.964  INFO 6464 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/airport (PostgreSQL 10.23)
2023-08-27 03:47:58.032  INFO 6464 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.042s)
2023-08-27 03:47:58.048  INFO 6464 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.1691442505
2023-08-27 03:47:58.049  WARN 6464 --- [main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2023-08-27 03:47:58.050  INFO 6464 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-08-27 03:47:58.284  INFO 6464 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-27 03:47:58.387  INFO 6464 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-27 03:47:58.857  INFO 6464 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
2023-08-27 03:47:59.910  INFO 6464 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-27 03:47:59.951  INFO 6464 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:48:01.655 DEBUG 6464 --- [main] org.hibernate.SQL                        : SELECT MAX(inspection_code) FROM part_inspections
2023-08-27 03:48:02.724  WARN 6464 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-27 03:48:03.791  INFO 6464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55589ef5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23a9400c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@571903ff, org.springframework.web.filter.CorsFilter@793248d, org.springframework.security.web.authentication.logout.LogoutFilter@3ad9fea, kg.kuban.airport.security.JwtAuthenticationFilter@39fc17be, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1188e08b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80b6098, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6731b6bd, org.springframework.security.web.session.SessionManagementFilter@118c1faa, org.springframework.security.web.access.ExceptionTranslationFilter@689eab53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2af1bf5a]
2023-08-27 03:48:04.209  INFO 6464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-08-27 03:48:04.226  INFO 6464 --- [main] kg.kuban.airport.AirportApplication      : Started AirportApplication in 10.794 seconds (JVM running for 12.471)
2023-08-27 03:57:48.614  INFO 6464 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-27 03:57:48.618  INFO 6464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-27 03:57:48.706  INFO 6464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
